ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"taptempo.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN8Taptempo4initEmmfi,"ax",%progbits
  17              		.align	1
  18              		.p2align 2,,3
  19              		.global	_ZN8Taptempo4initEmmfi
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN8Taptempo4initEmmfi:
  27              	.LVL0:
  28              	.LFB3884:
  29              		.file 1 "taptempo.cpp"
   1:taptempo.cpp  **** // Copyright 2021 Adam Fulford
   2:taptempo.cpp  **** // 
   3:taptempo.cpp  **** // Permission is hereby granted, free of charge, to any person obtaining a copy
   4:taptempo.cpp  **** // of this software and associated documentation files (the "Software"), to deal
   5:taptempo.cpp  **** // in the Software without restriction, including without limitation the rights
   6:taptempo.cpp  **** // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   7:taptempo.cpp  **** // copies of the Software, and to permit persons to whom the Software is
   8:taptempo.cpp  **** // furnished to do so, subject to the following conditions:
   9:taptempo.cpp  **** // 
  10:taptempo.cpp  **** // The above copyright notice and this permission notice shall be included in
  11:taptempo.cpp  **** // all copies or substantial portions of the Software.
  12:taptempo.cpp  **** // 
  13:taptempo.cpp  **** // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  14:taptempo.cpp  **** // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  15:taptempo.cpp  **** // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  16:taptempo.cpp  **** // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  17:taptempo.cpp  **** // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  18:taptempo.cpp  **** // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  19:taptempo.cpp  **** // THE SOFTWARE.
  20:taptempo.cpp  **** // 
  21:taptempo.cpp  **** // See http://creativecommons.org/licenses/MIT/ for more information.
  22:taptempo.cpp  **** 
  23:taptempo.cpp  **** #include "taptempo.h"
  24:taptempo.cpp  **** 
  25:taptempo.cpp  ****     //set mintap (samples), maxtap (samples), tap tolerance
  26:taptempo.cpp  ****     void Taptempo::init(uint32_t mintap, uint32_t maxtap, float tap_tolerance, int PPQN)
  27:taptempo.cpp  ****     {
  30              		.loc 1 27 5 view -0
  31              		.cfi_startproc
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 2


  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  28:taptempo.cpp  ****         mintap_ = mintap;
  35              		.loc 1 28 9 view .LVU1
  27:taptempo.cpp  ****         mintap_ = mintap;
  36              		.loc 1 27 5 is_stmt 0 view .LVU2
  37 0000 70B4     		push	{r4, r5, r6}
  38              		.cfi_def_cfa_offset 12
  39              		.cfi_offset 4, -12
  40              		.cfi_offset 5, -8
  41              		.cfi_offset 6, -4
  29:taptempo.cpp  ****         maxtap_ = maxtap;
  30:taptempo.cpp  ****         tap_tolerance_ = tap_tolerance;
  31:taptempo.cpp  ****         tapLength_ = 0;
  32:taptempo.cpp  ****         lastTapLength_ = 0;
  33:taptempo.cpp  ****         tempo_ = 500000.0f; //in Us. Default 120BPM
  34:taptempo.cpp  ****         lastTime_ = 0;
  35:taptempo.cpp  ****         currentTime_ = 0;
  36:taptempo.cpp  ****         tapflag_ = false;
  37:taptempo.cpp  ****         tapRatio_ = 1.0;
  38:taptempo.cpp  ****         PPQN_ = PPQN;
  39:taptempo.cpp  ****         minclock_ = 960/PPQN_;  //in samples
  42              		.loc 1 39 24 view .LVU3
  43 0002 4FF47075 		mov	r5, #960
  40:taptempo.cpp  ****         maxclock_ = 288000/PPQN_; //in samples
  44              		.loc 1 40 27 view .LVU4
  45 0006 0D4C     		ldr	r4, .L4
  37:taptempo.cpp  ****         PPQN_ = PPQN;
  46              		.loc 1 37 19 view .LVU5
  47 0008 4FF07E56 		mov	r6, #1065353216
  38:taptempo.cpp  ****         minclock_ = 960/PPQN_;  //in samples
  48              		.loc 1 38 15 view .LVU6
  49 000c 4364     		str	r3, [r0, #68]
  30:taptempo.cpp  ****         tapLength_ = 0;
  50              		.loc 1 30 24 view .LVU7
  51 000e 80ED0E0A 		vstr.32	s0, [r0, #56]
  37:taptempo.cpp  ****         PPQN_ = PPQN;
  52              		.loc 1 37 19 view .LVU8
  53 0012 0664     		str	r6, [r0, #64]	@ float
  39:taptempo.cpp  ****         maxclock_ = 288000/PPQN_; //in samples
  54              		.loc 1 39 24 view .LVU9
  55 0014 95FBF3F5 		sdiv	r5, r5, r3
  56              		.loc 1 40 27 view .LVU10
  57 0018 94FBF3F4 		sdiv	r4, r4, r3
  29:taptempo.cpp  ****         tap_tolerance_ = tap_tolerance;
  58              		.loc 1 29 17 view .LVU11
  59 001c C0E90012 		strd	r1, r2, [r0]
  30:taptempo.cpp  ****         tapLength_ = 0;
  60              		.loc 1 30 9 is_stmt 1 view .LVU12
  31:taptempo.cpp  ****         lastTapLength_ = 0;
  61              		.loc 1 31 9 view .LVU13
  31:taptempo.cpp  ****         lastTapLength_ = 0;
  62              		.loc 1 31 20 is_stmt 0 view .LVU14
  63 0020 0023     		movs	r3, #0
  64              	.LVL1:
  33:taptempo.cpp  ****         lastTime_ = 0;
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 3


  65              		.loc 1 33 16 view .LVU15
  66 0022 074A     		ldr	r2, .L4+4
  67              	.LVL2:
  68              		.loc 1 40 19 view .LVU16
  69 0024 C0E90254 		strd	r5, r4, [r0, #8]
  33:taptempo.cpp  ****         lastTime_ = 0;
  70              		.loc 1 33 16 view .LVU17
  71 0028 C263     		str	r2, [r0, #60]	@ float
  36:taptempo.cpp  ****         tapRatio_ = 1.0;
  72              		.loc 1 36 18 view .LVU18
  73 002a 80F83430 		strb	r3, [r0, #52]
  41:taptempo.cpp  **** 
  42:taptempo.cpp  ****         //dsy_tim_init(); //start timer
  43:taptempo.cpp  ****         //dsy_tim_start();
  44:taptempo.cpp  ****     }
  74              		.loc 1 44 5 view .LVU19
  75 002e 70BC     		pop	{r4, r5, r6}
  76              		.cfi_restore 6
  77              		.cfi_restore 5
  78              		.cfi_restore 4
  79              		.cfi_def_cfa_offset 0
  32:taptempo.cpp  ****         tempo_ = 500000.0f; //in Us. Default 120BPM
  80              		.loc 1 32 24 view .LVU20
  81 0030 C0E90633 		strd	r3, r3, [r0, #24]
  33:taptempo.cpp  ****         lastTime_ = 0;
  82              		.loc 1 33 9 is_stmt 1 view .LVU21
  34:taptempo.cpp  ****         currentTime_ = 0;
  83              		.loc 1 34 9 view .LVU22
  35:taptempo.cpp  ****         tapflag_ = false;
  84              		.loc 1 35 22 is_stmt 0 view .LVU23
  85 0034 C0E90433 		strd	r3, r3, [r0, #16]
  36:taptempo.cpp  ****         tapRatio_ = 1.0;
  86              		.loc 1 36 9 is_stmt 1 view .LVU24
  37:taptempo.cpp  ****         PPQN_ = PPQN;
  87              		.loc 1 37 9 view .LVU25
  38:taptempo.cpp  ****         minclock_ = 960/PPQN_;  //in samples
  88              		.loc 1 38 9 view .LVU26
  39:taptempo.cpp  ****         maxclock_ = 288000/PPQN_; //in samples
  89              		.loc 1 39 9 view .LVU27
  40:taptempo.cpp  **** 
  90              		.loc 1 40 9 view .LVU28
  91              		.loc 1 44 5 is_stmt 0 view .LVU29
  92 0038 7047     		bx	lr
  93              	.L5:
  94 003a 00BF     		.align	2
  95              	.L4:
  96 003c 00650400 		.word	288000
  97 0040 0024F448 		.word	1223959552
  98              		.cfi_endproc
  99              	.LFE3884:
 101              		.section	.text._ZN8Taptempo3tapEv,"ax",%progbits
 102              		.align	1
 103              		.p2align 2,,3
 104              		.global	_ZN8Taptempo3tapEv
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 4


 108              		.fpu fpv5-d16
 110              	_ZN8Taptempo3tapEv:
 111              	.LVL3:
 112              	.LFB3885:
  45:taptempo.cpp  ****     
  46:taptempo.cpp  ****     //call when tap is triggered. currentTime in ms. Returns high if tempo updated
  47:taptempo.cpp  ****     bool Taptempo::tap()
  48:taptempo.cpp  ****     {
 113              		.loc 1 48 5 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
  49:taptempo.cpp  ****         currentTime_ = System::GetUs();    //get current time
 117              		.loc 1 49 9 view .LVU31
  48:taptempo.cpp  ****         currentTime_ = System::GetUs();    //get current time
 118              		.loc 1 48 5 is_stmt 0 view .LVU32
 119 0000 10B5     		push	{r4, lr}
 120              		.cfi_def_cfa_offset 8
 121              		.cfi_offset 4, -8
 122              		.cfi_offset 14, -4
  48:taptempo.cpp  ****         currentTime_ = System::GetUs();    //get current time
 123              		.loc 1 48 5 view .LVU33
 124 0002 0446     		mov	r4, r0
 125              		.loc 1 49 37 view .LVU34
 126 0004 FFF7FEFF 		bl	_ZN5daisy6System5GetUsEv
 127              	.LVL4:
  50:taptempo.cpp  ****         tapLength_ = currentTime_ - lastTime_;  //calculate length between taps
 128              		.loc 1 50 35 view .LVU35
 129 0008 6369     		ldr	r3, [r4, #20]
  51:taptempo.cpp  ****         lastTime_ = currentTime_;   //always update lastTime_
  52:taptempo.cpp  ****         
  53:taptempo.cpp  ****         if(mintap_ <= tapLength_ && tapLength_ <= maxtap_)  //if between limits
 130              		.loc 1 53 9 view .LVU36
 131 000a 2268     		ldr	r2, [r4]
  50:taptempo.cpp  ****         tapLength_ = currentTime_ - lastTime_;  //calculate length between taps
 132              		.loc 1 50 35 view .LVU37
 133 000c C31A     		subs	r3, r0, r3
 134              		.loc 1 53 9 view .LVU38
 135 000e 9342     		cmp	r3, r2
  50:taptempo.cpp  ****         tapLength_ = currentTime_ - lastTime_;  //calculate length between taps
 136              		.loc 1 50 20 view .LVU39
 137 0010 E361     		str	r3, [r4, #28]
  51:taptempo.cpp  ****         lastTime_ = currentTime_;   //always update lastTime_
 138              		.loc 1 51 9 is_stmt 1 view .LVU40
 139              		.loc 1 53 9 view .LVU41
 140              		.loc 1 53 34 is_stmt 0 view .LVU42
 141 0012 6268     		ldr	r2, [r4, #4]
  51:taptempo.cpp  ****         lastTime_ = currentTime_;   //always update lastTime_
 142              		.loc 1 51 19 view .LVU43
 143 0014 C4E90400 		strd	r0, r0, [r4, #16]
 144              		.loc 1 53 9 view .LVU44
 145 0018 22D3     		bcc	.L7
 146              		.loc 1 53 34 discriminator 1 view .LVU45
 147 001a 9342     		cmp	r3, r2
 148 001c 24D8     		bhi	.L8
  54:taptempo.cpp  ****         {
  55:taptempo.cpp  ****             if(tapflag_)
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 5


 149              		.loc 1 55 13 is_stmt 1 view .LVU46
 150              		.loc 1 55 16 is_stmt 0 view .LVU47
 151 001e 94F83400 		ldrb	r0, [r4, #52]	@ zero_extendqisi2
  56:taptempo.cpp  ****             {
  57:taptempo.cpp  ****                 tapflag_ = false;   //reset tapflag
  58:taptempo.cpp  ****                 tempo_ = static_cast<float>(tapLength_) / tapRatio_ * 0.048f;
 152              		.loc 1 58 26 view .LVU48
 153 0022 07EE903A 		vmov	s15, r3	@ int
  55:taptempo.cpp  ****             {
 154              		.loc 1 55 13 view .LVU49
 155 0026 20BB     		cbnz	r0, .L15
  59:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
  60:taptempo.cpp  ****                 return true;
  61:taptempo.cpp  ****             }
  62:taptempo.cpp  **** 
  63:taptempo.cpp  ****             else    //tapflag_ not set
  64:taptempo.cpp  ****             {
  65:taptempo.cpp  ****                 if(static_cast<float>(tapLength_) >= tap_tolerance_ * static_cast<float>(lastTapLen
 156              		.loc 1 65 17 is_stmt 1 view .LVU50
 157              		.loc 1 65 20 is_stmt 0 view .LVU51
 158 0028 B8EE677A 		vcvt.f32.u32	s14, s15
 159              		.loc 1 65 71 view .LVU52
 160 002c D4ED067A 		vldr.32	s15, [r4, #24]	@ int
 161              		.loc 1 65 69 view .LVU53
 162 0030 D4ED0E6A 		vldr.32	s13, [r4, #56]
 163              		.loc 1 65 71 view .LVU54
 164 0034 F8EE677A 		vcvt.f32.u32	s15, s15
 165              		.loc 1 65 69 view .LVU55
 166 0038 67EEA67A 		vmul.f32	s15, s15, s13
 167              		.loc 1 65 17 view .LVU56
 168 003c B4EEE77A 		vcmpe.f32	s14, s15
 169 0040 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 170 0044 10DA     		bge	.L8
  66:taptempo.cpp  ****                 {
  67:taptempo.cpp  ****                     tapflag_ = true;
  68:taptempo.cpp  ****                     return false;
  69:taptempo.cpp  ****                 }
  70:taptempo.cpp  ****                 else
  71:taptempo.cpp  ****                 {
  72:taptempo.cpp  ****                     tempo_ = static_cast<float>(tapLength_) / tapRatio_ * 0.048f;
 171              		.loc 1 72 21 is_stmt 1 view .LVU57
 172              		.loc 1 72 61 is_stmt 0 view .LVU58
 173 0046 94ED106A 		vldr.32	s12, [r4, #64]
  73:taptempo.cpp  ****                     lastTapLength_ = tapLength_;
  74:taptempo.cpp  ****                     return true;
 174              		.loc 1 74 28 view .LVU59
 175 004a 0120     		movs	r0, #1
  72:taptempo.cpp  ****                     lastTapLength_ = tapLength_;
 176              		.loc 1 72 73 view .LVU60
 177 004c DFED116A 		vldr.32	s13, .L16
  72:taptempo.cpp  ****                     lastTapLength_ = tapLength_;
 178              		.loc 1 72 61 view .LVU61
 179 0050 C7EE067A 		vdiv.f32	s15, s14, s12
  73:taptempo.cpp  ****                     lastTapLength_ = tapLength_;
 180              		.loc 1 73 36 view .LVU62
 181 0054 A361     		str	r3, [r4, #24]
  72:taptempo.cpp  ****                     lastTapLength_ = tapLength_;
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 6


 182              		.loc 1 72 73 view .LVU63
 183 0056 67EEA67A 		vmul.f32	s15, s15, s13
  72:taptempo.cpp  ****                     lastTapLength_ = tapLength_;
 184              		.loc 1 72 28 view .LVU64
 185 005a C4ED0F7A 		vstr.32	s15, [r4, #60]
  73:taptempo.cpp  ****                     lastTapLength_ = tapLength_;
 186              		.loc 1 73 21 is_stmt 1 view .LVU65
 187              		.loc 1 74 21 view .LVU66
  75:taptempo.cpp  ****                 }
  76:taptempo.cpp  ****             }
  77:taptempo.cpp  ****         }
  78:taptempo.cpp  ****         //if tap length too long then set tap_flag (to say this is first tap) and reset LFO
  79:taptempo.cpp  ****         else if(tapLength_ > maxtap_)
  80:taptempo.cpp  ****         {
  81:taptempo.cpp  ****             tapflag_ = true;
  82:taptempo.cpp  ****             return false;
  83:taptempo.cpp  ****         }
  84:taptempo.cpp  ****         //if tap time too short do nothing
  85:taptempo.cpp  ****         else if(tapLength_ < mintap_)
  86:taptempo.cpp  ****         {
  87:taptempo.cpp  ****             return false;
  88:taptempo.cpp  ****         }
  89:taptempo.cpp  **** 
  90:taptempo.cpp  ****         else
  91:taptempo.cpp  ****         {
  92:taptempo.cpp  ****             return false;
  93:taptempo.cpp  ****         }
  94:taptempo.cpp  **** 
  95:taptempo.cpp  ****     }
 188              		.loc 1 95 5 is_stmt 0 view .LVU67
 189 005e 10BD     		pop	{r4, pc}
 190              	.LVL5:
 191              	.L7:
  79:taptempo.cpp  ****         {
 192              		.loc 1 79 14 is_stmt 1 view .LVU68
 193 0060 9342     		cmp	r3, r2
 194 0062 01D8     		bhi	.L8
  87:taptempo.cpp  ****         }
 195              		.loc 1 87 20 is_stmt 0 view .LVU69
 196 0064 0020     		movs	r0, #0
 197              		.loc 1 95 5 view .LVU70
 198 0066 10BD     		pop	{r4, pc}
 199              	.LVL6:
 200              	.L8:
  67:taptempo.cpp  ****                     return false;
 201              		.loc 1 67 21 is_stmt 1 view .LVU71
  67:taptempo.cpp  ****                     return false;
 202              		.loc 1 67 30 is_stmt 0 view .LVU72
 203 0068 0123     		movs	r3, #1
  68:taptempo.cpp  ****                 }
 204              		.loc 1 68 28 view .LVU73
 205 006a 0020     		movs	r0, #0
  67:taptempo.cpp  ****                     return false;
 206              		.loc 1 67 30 view .LVU74
 207 006c 84F83430 		strb	r3, [r4, #52]
  68:taptempo.cpp  ****                 }
 208              		.loc 1 68 21 is_stmt 1 view .LVU75
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 7


 209              		.loc 1 95 5 is_stmt 0 view .LVU76
 210 0070 10BD     		pop	{r4, pc}
 211              	.LVL7:
 212              	.L15:
  57:taptempo.cpp  ****                 tempo_ = static_cast<float>(tapLength_) / tapRatio_ * 0.048f;
 213              		.loc 1 57 17 is_stmt 1 view .LVU77
  58:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
 214              		.loc 1 58 26 is_stmt 0 view .LVU78
 215 0072 B8EE676A 		vcvt.f32.u32	s12, s15
  58:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
 216              		.loc 1 58 57 view .LVU79
 217 0076 D4ED106A 		vldr.32	s13, [r4, #64]
  58:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
 218              		.loc 1 58 69 view .LVU80
 219 007a 9FED067A 		vldr.32	s14, .L16
  57:taptempo.cpp  ****                 tempo_ = static_cast<float>(tapLength_) / tapRatio_ * 0.048f;
 220              		.loc 1 57 26 view .LVU81
 221 007e 0022     		movs	r2, #0
  59:taptempo.cpp  ****                 return true;
 222              		.loc 1 59 32 view .LVU82
 223 0080 A361     		str	r3, [r4, #24]
  58:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
 224              		.loc 1 58 57 view .LVU83
 225 0082 C6EE267A 		vdiv.f32	s15, s12, s13
  57:taptempo.cpp  ****                 tempo_ = static_cast<float>(tapLength_) / tapRatio_ * 0.048f;
 226              		.loc 1 57 26 view .LVU84
 227 0086 84F83420 		strb	r2, [r4, #52]
  58:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
 228              		.loc 1 58 17 is_stmt 1 view .LVU85
  58:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
 229              		.loc 1 58 69 is_stmt 0 view .LVU86
 230 008a 67EE877A 		vmul.f32	s15, s15, s14
  58:taptempo.cpp  ****                 lastTapLength_ = tapLength_;
 231              		.loc 1 58 24 view .LVU87
 232 008e C4ED0F7A 		vstr.32	s15, [r4, #60]
  59:taptempo.cpp  ****                 return true;
 233              		.loc 1 59 17 is_stmt 1 view .LVU88
  60:taptempo.cpp  ****             }
 234              		.loc 1 60 17 view .LVU89
 235              		.loc 1 95 5 is_stmt 0 view .LVU90
 236 0092 10BD     		pop	{r4, pc}
 237              	.LVL8:
 238              	.L17:
 239              		.loc 1 95 5 view .LVU91
 240              		.align	2
 241              	.L16:
 242 0094 A69B443D 		.word	1027906470
 243              		.cfi_endproc
 244              	.LFE3885:
 246              		.section	.text._ZN8Taptempo5clockEm,"ax",%progbits
 247              		.align	1
 248              		.p2align 2,,3
 249              		.global	_ZN8Taptempo5clockEm
 250              		.syntax unified
 251              		.thumb
 252              		.thumb_func
 253              		.fpu fpv5-d16
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 8


 255              	_ZN8Taptempo5clockEm:
 256              	.LVL9:
 257              	.LFB3886:
  96:taptempo.cpp  **** 
  97:taptempo.cpp  **** bool Taptempo::clock(uint32_t count)
  98:taptempo.cpp  ****     {
 258              		.loc 1 98 5 is_stmt 1 view -0
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 0
 261              		@ frame_needed = 0, uses_anonymous_args = 0
 262              		@ link register save eliminated.
  99:taptempo.cpp  ****         //currentClockTime_ = System::GetUs();    //get current time
 100:taptempo.cpp  ****         //clockLength_ = currentClockTime_ - lastClockTime_;  //calculate length between taps
 101:taptempo.cpp  ****         //lastClockTime_ = currentClockTime_;   //always update lastTime_
 102:taptempo.cpp  ****         uint32_t ClockTempo{count};
 263              		.loc 1 102 9 view .LVU93
 103:taptempo.cpp  ****         //int buffsize{PPQN_};
 104:taptempo.cpp  ****         static uint32_t ClockTempoBuff[24];
 264              		.loc 1 104 9 view .LVU94
 105:taptempo.cpp  ****         static int index{};
 265              		.loc 1 105 9 view .LVU95
 106:taptempo.cpp  ****         //if within tempo limits
 107:taptempo.cpp  ****         if(minclock_ <= ClockTempo && ClockTempo <= maxclock_) 
 266              		.loc 1 107 9 view .LVU96
 267              	.LBB6:
 268 0000 8368     		ldr	r3, [r0, #8]
 269 0002 8B42     		cmp	r3, r1
 270 0004 32D8     		bhi	.L29
 271              		.loc 1 107 36 is_stmt 0 discriminator 1 view .LVU97
 272 0006 C368     		ldr	r3, [r0, #12]
 273 0008 8B42     		cmp	r3, r1
 274              	.LBE6:
  98:taptempo.cpp  ****         //currentClockTime_ = System::GetUs();    //get current time
 275              		.loc 1 98 5 discriminator 1 view .LVU98
 276 000a 70B4     		push	{r4, r5, r6}
 277              		.cfi_def_cfa_offset 12
 278              		.cfi_offset 4, -12
 279              		.cfi_offset 5, -8
 280              		.cfi_offset 6, -4
 281 000c 0446     		mov	r4, r0
 282              	.LBB11:
 283              		.loc 1 107 36 discriminator 1 view .LVU99
 284 000e 2AD3     		bcc	.L21
 285              	.LBB7:
 108:taptempo.cpp  ****         {
 109:taptempo.cpp  ****             //update clockLength_ with rolling average
 110:taptempo.cpp  ****             index = (index + 1) % (PPQN_);
 286              		.loc 1 110 13 is_stmt 1 view .LVU100
 287              		.loc 1 110 28 is_stmt 0 view .LVU101
 288 0010 1748     		ldr	r0, .L31
 289              	.LVL10:
 290              		.loc 1 110 36 view .LVU102
 291 0012 666C     		ldr	r6, [r4, #68]
 292              		.loc 1 110 28 view .LVU103
 293 0014 0568     		ldr	r5, [r0]
 111:taptempo.cpp  ****             ClockTempoBuff[index] = ClockTempo;
 294              		.loc 1 111 35 view .LVU104
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 9


 295 0016 174B     		ldr	r3, .L31+4
 296              	.LBB8:
 112:taptempo.cpp  **** 
 113:taptempo.cpp  ****             uint32_t ClockTempoSum{};
 114:taptempo.cpp  ****             for(int i=0; i <(PPQN_); i += 1)
 297              		.loc 1 114 28 view .LVU105
 298 0018 002E     		cmp	r6, #0
 299              	.LBE8:
 110:taptempo.cpp  ****             ClockTempoBuff[index] = ClockTempo;
 300              		.loc 1 110 28 view .LVU106
 301 001a 05F10102 		add	r2, r5, #1
 110:taptempo.cpp  ****             ClockTempoBuff[index] = ClockTempo;
 302              		.loc 1 110 33 view .LVU107
 303 001e 92FBF6F5 		sdiv	r5, r2, r6
 304 0022 06FB1525 		mls	r5, r6, r5, r2
 113:taptempo.cpp  ****             for(int i=0; i <(PPQN_); i += 1)
 305              		.loc 1 113 22 view .LVU108
 306 0026 4FF00002 		mov	r2, #0
 110:taptempo.cpp  ****             ClockTempoBuff[index] = ClockTempo;
 307              		.loc 1 110 19 view .LVU109
 308 002a 0560     		str	r5, [r0]
 111:taptempo.cpp  **** 
 309              		.loc 1 111 13 is_stmt 1 view .LVU110
 111:taptempo.cpp  **** 
 310              		.loc 1 111 35 is_stmt 0 view .LVU111
 311 002c 43F82510 		str	r1, [r3, r5, lsl #2]
 113:taptempo.cpp  ****             for(int i=0; i <(PPQN_); i += 1)
 312              		.loc 1 113 13 is_stmt 1 view .LVU112
 313              	.LVL11:
 314              		.loc 1 114 13 view .LVU113
 315              	.LBB9:
 316              		.loc 1 114 28 view .LVU114
 317 0030 08DD     		ble	.L22
 318 0032 03EB8600 		add	r0, r3, r6, lsl #2
 319              	.LVL12:
 320              	.L23:
 115:taptempo.cpp  ****             {
 116:taptempo.cpp  ****                 ClockTempoSum += ClockTempoBuff[i];
 321              		.loc 1 116 17 discriminator 2 view .LVU115
 322              		.loc 1 116 50 is_stmt 0 discriminator 2 view .LVU116
 323 0036 53F8041B 		ldr	r1, [r3], #4
 114:taptempo.cpp  ****             {
 324              		.loc 1 114 28 discriminator 2 view .LVU117
 325 003a 8342     		cmp	r3, r0
 326              		.loc 1 116 31 discriminator 2 view .LVU118
 327 003c 0A44     		add	r2, r2, r1
 328              	.LVL13:
 114:taptempo.cpp  ****             {
 329              		.loc 1 114 13 is_stmt 1 discriminator 2 view .LVU119
 114:taptempo.cpp  ****             {
 330              		.loc 1 114 28 discriminator 2 view .LVU120
 331 003e FAD1     		bne	.L23
 332              	.LBE9:
 117:taptempo.cpp  ****             }
 118:taptempo.cpp  **** 
 119:taptempo.cpp  ****             ClockTempo = ClockTempoSum;
 333              		.loc 1 119 13 view .LVU121
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 10


 334              	.LVL14:
 120:taptempo.cpp  ****       
 121:taptempo.cpp  ****             //clock tempo update rate: every pulse if PPQN = 1, or every 12 pulses if PPQN = 24
 122:taptempo.cpp  ****             if(index % ((PPQN_ == 24) ? 12: 1) == 0) 
 335              		.loc 1 122 13 view .LVU122
 336              		.loc 1 122 39 is_stmt 0 view .LVU123
 337 0040 182E     		cmp	r6, #24
 338 0042 08D0     		beq	.L30
 339              	.LVL15:
 340              	.L22:
 123:taptempo.cpp  ****             {
 124:taptempo.cpp  ****                 tempo_ = static_cast<float> (ClockTempo);
 341              		.loc 1 124 17 is_stmt 1 view .LVU124
 342              		.loc 1 124 26 is_stmt 0 view .LVU125
 343 0044 07EE902A 		vmov	s15, r2	@ int
 125:taptempo.cpp  ****                 return true;
 344              		.loc 1 125 24 view .LVU126
 345 0048 0120     		movs	r0, #1
 124:taptempo.cpp  ****                 return true;
 346              		.loc 1 124 26 view .LVU127
 347 004a F8EE677A 		vcvt.f32.u32	s15, s15
 348 004e C4ED0F7A 		vstr.32	s15, [r4, #60]
 349              		.loc 1 125 17 is_stmt 1 view .LVU128
 350              	.LBE7:
 351              	.LBE11:
 126:taptempo.cpp  ****             }
 127:taptempo.cpp  ****             else
 128:taptempo.cpp  ****             {
 129:taptempo.cpp  ****                 return false;
 130:taptempo.cpp  ****             }
 131:taptempo.cpp  ****         }
 132:taptempo.cpp  ****         else
 133:taptempo.cpp  ****         {
 134:taptempo.cpp  ****             return false;
 135:taptempo.cpp  ****         }
 136:taptempo.cpp  ****     }
 352              		.loc 1 136 5 is_stmt 0 view .LVU129
 353 0052 70BC     		pop	{r4, r5, r6}
 354              		.cfi_remember_state
 355              		.cfi_restore 6
 356              		.cfi_restore 5
 357              		.cfi_restore 4
 358              		.cfi_def_cfa_offset 0
 359              	.LVL16:
 360              		.loc 1 136 5 view .LVU130
 361 0054 7047     		bx	lr
 362              	.LVL17:
 363              	.L30:
 364              		.cfi_restore_state
 365              	.LBB12:
 366              	.LBB10:
 367              		.loc 1 136 5 view .LVU131
 368 0056 0848     		ldr	r0, .L31+8
 369 0058 0849     		ldr	r1, .L31+12
 122:taptempo.cpp  ****             {
 370              		.loc 1 122 13 discriminator 4 view .LVU132
 371 005a 094B     		ldr	r3, .L31+16
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 11


 372 005c 00FB0515 		mla	r5, r0, r5, r1
 373              	.LVL18:
 122:taptempo.cpp  ****             {
 374              		.loc 1 122 13 discriminator 4 view .LVU133
 375 0060 B3EBB50F 		cmp	r3, r5, ror #2
 376 0064 EED2     		bcs	.L22
 377              	.LVL19:
 378              	.L21:
 122:taptempo.cpp  ****             {
 379              		.loc 1 122 13 discriminator 4 view .LVU134
 380              	.LBE10:
 134:taptempo.cpp  ****         }
 381              		.loc 1 134 20 view .LVU135
 382 0066 0020     		movs	r0, #0
 383              	.LBE12:
 384              		.loc 1 136 5 view .LVU136
 385 0068 70BC     		pop	{r4, r5, r6}
 386              		.cfi_restore 6
 387              		.cfi_restore 5
 388              		.cfi_restore 4
 389              		.cfi_def_cfa_offset 0
 390              	.LVL20:
 391              		.loc 1 136 5 view .LVU137
 392 006a 7047     		bx	lr
 393              	.LVL21:
 394              	.L29:
 395              	.LBB13:
 134:taptempo.cpp  ****         }
 396              		.loc 1 134 20 view .LVU138
 397 006c 0020     		movs	r0, #0
 398              	.LVL22:
 134:taptempo.cpp  ****         }
 399              		.loc 1 134 20 view .LVU139
 400              	.LBE13:
 401              		.loc 1 136 5 view .LVU140
 402 006e 7047     		bx	lr
 403              	.L32:
 404              		.align	2
 405              	.L31:
 406 0070 00000000 		.word	.LANCHOR0
 407 0074 00000000 		.word	.LANCHOR1
 408 0078 ABAAAAAA 		.word	-1431655765
 409 007c A8AAAA2A 		.word	715827880
 410 0080 54555515 		.word	357913940
 411              		.cfi_endproc
 412              	.LFE3886:
 414              		.section	.text._ZN8Taptempo14getDelayLengthEv,"ax",%progbits
 415              		.align	1
 416              		.p2align 2,,3
 417              		.global	_ZN8Taptempo14getDelayLengthEv
 418              		.syntax unified
 419              		.thumb
 420              		.thumb_func
 421              		.fpu fpv5-d16
 423              	_ZN8Taptempo14getDelayLengthEv:
 424              	.LVL23:
 425              	.LFB3887:
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 12


 137:taptempo.cpp  ****     
 138:taptempo.cpp  ****     //outputs tap length in Samples
 139:taptempo.cpp  ****     float Taptempo::getDelayLength()
 140:taptempo.cpp  ****     {
 426              		.loc 1 140 5 is_stmt 1 view -0
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 0
 429              		@ frame_needed = 0, uses_anonymous_args = 0
 430              		@ link register save eliminated.
 141:taptempo.cpp  ****         static float tempo_Out{};
 431              		.loc 1 141 9 view .LVU142
 142:taptempo.cpp  ****         static float tempo_last{};
 432              		.loc 1 142 9 view .LVU143
 143:taptempo.cpp  ****         fonepole(tempo_Out,tempo_,(PPQN_ == 24) ? 0.5f: 0.011f);
 433              		.loc 1 143 9 view .LVU144
 434              	.LBB14:
 435              	.LBB15:
 436              		.file 2 "../DaisySP/Source/Utility/dsp.h"
   1:../DaisySP/Source/Utility/dsp.h **** /** Helpful defines, functions, and other utilities for use in/with daisysp modules.
   2:../DaisySP/Source/Utility/dsp.h **** */
   3:../DaisySP/Source/Utility/dsp.h **** #pragma once
   4:../DaisySP/Source/Utility/dsp.h **** #ifndef DSY_CORE_DSP
   5:../DaisySP/Source/Utility/dsp.h **** #define DSY_CORE_DSP
   6:../DaisySP/Source/Utility/dsp.h **** #include <cassert>
   7:../DaisySP/Source/Utility/dsp.h **** #include <cstdint>
   8:../DaisySP/Source/Utility/dsp.h **** #include <random>
   9:../DaisySP/Source/Utility/dsp.h **** #include <cmath>
  10:../DaisySP/Source/Utility/dsp.h **** 
  11:../DaisySP/Source/Utility/dsp.h **** /** PIs
  12:../DaisySP/Source/Utility/dsp.h **** */
  13:../DaisySP/Source/Utility/dsp.h **** #define PI_F 3.1415927410125732421875f
  14:../DaisySP/Source/Utility/dsp.h **** #define TWOPI_F (2.0f * PI_F)
  15:../DaisySP/Source/Utility/dsp.h **** #define HALFPI_F (PI_F * 0.5f)
  16:../DaisySP/Source/Utility/dsp.h **** #define DSY_MIN(in, mn) (in < mn ? in : mn)
  17:../DaisySP/Source/Utility/dsp.h **** #define DSY_MAX(in, mx) (in > mx ? in : mx)
  18:../DaisySP/Source/Utility/dsp.h **** #define DSY_CLAMP(in, mn, mx) (DSY_MIN(DSY_MAX(in, mn), mx))
  19:../DaisySP/Source/Utility/dsp.h **** #define DSY_COUNTOF(_arr) (sizeof(_arr) / sizeof(_arr[0]))
  20:../DaisySP/Source/Utility/dsp.h **** 
  21:../DaisySP/Source/Utility/dsp.h **** namespace daisysp
  22:../DaisySP/Source/Utility/dsp.h **** {
  23:../DaisySP/Source/Utility/dsp.h **** //Avoids division for random floats. e.g. rand() * kRandFrac
  24:../DaisySP/Source/Utility/dsp.h **** static constexpr float kRandFrac = 1.f / (float)RAND_MAX;
  25:../DaisySP/Source/Utility/dsp.h **** 
  26:../DaisySP/Source/Utility/dsp.h **** //Convert from semitones to other units. e.g. 2 ^ (kOneTwelfth * x)
  27:../DaisySP/Source/Utility/dsp.h **** static constexpr float kOneTwelfth = 1.f / 12.f;
  28:../DaisySP/Source/Utility/dsp.h **** 
  29:../DaisySP/Source/Utility/dsp.h **** /** efficient floating point min/max
  30:../DaisySP/Source/Utility/dsp.h **** c/o stephen mccaul
  31:../DaisySP/Source/Utility/dsp.h **** */
  32:../DaisySP/Source/Utility/dsp.h **** inline float fmax(float a, float b)
  33:../DaisySP/Source/Utility/dsp.h **** {
  34:../DaisySP/Source/Utility/dsp.h ****     float r;
  35:../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  36:../DaisySP/Source/Utility/dsp.h ****     asm("vmaxnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  37:../DaisySP/Source/Utility/dsp.h **** #else
  38:../DaisySP/Source/Utility/dsp.h ****     r = (a > b) ? a : b;
  39:../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 13


  40:../DaisySP/Source/Utility/dsp.h ****     return r;
  41:../DaisySP/Source/Utility/dsp.h **** }
  42:../DaisySP/Source/Utility/dsp.h **** 
  43:../DaisySP/Source/Utility/dsp.h **** inline float fmin(float a, float b)
  44:../DaisySP/Source/Utility/dsp.h **** {
  45:../DaisySP/Source/Utility/dsp.h ****     float r;
  46:../DaisySP/Source/Utility/dsp.h **** #ifdef __arm__
  47:../DaisySP/Source/Utility/dsp.h ****     asm("vminnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  48:../DaisySP/Source/Utility/dsp.h **** #else
  49:../DaisySP/Source/Utility/dsp.h ****     r = (a < b) ? a : b;
  50:../DaisySP/Source/Utility/dsp.h **** #endif // __arm__
  51:../DaisySP/Source/Utility/dsp.h ****     return r;
  52:../DaisySP/Source/Utility/dsp.h **** }
  53:../DaisySP/Source/Utility/dsp.h **** 
  54:../DaisySP/Source/Utility/dsp.h **** /** quick fp clamp
  55:../DaisySP/Source/Utility/dsp.h **** */
  56:../DaisySP/Source/Utility/dsp.h **** inline float fclamp(float in, float min, float max)
  57:../DaisySP/Source/Utility/dsp.h **** {
  58:../DaisySP/Source/Utility/dsp.h ****     return fmin(fmax(in, min), max);
  59:../DaisySP/Source/Utility/dsp.h **** }
  60:../DaisySP/Source/Utility/dsp.h **** 
  61:../DaisySP/Source/Utility/dsp.h **** /** From Musicdsp.org "Fast power and root estimates for 32bit floats)
  62:../DaisySP/Source/Utility/dsp.h **** Original code by Stefan Stenzel
  63:../DaisySP/Source/Utility/dsp.h **** These are approximations
  64:../DaisySP/Source/Utility/dsp.h **** */
  65:../DaisySP/Source/Utility/dsp.h **** inline float fastpower(float f, int n)
  66:../DaisySP/Source/Utility/dsp.h **** {
  67:../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  68:../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  69:../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  70:../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
  71:../DaisySP/Source/Utility/dsp.h ****     l <<= (n - 1);
  72:../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  73:../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  74:../DaisySP/Source/Utility/dsp.h ****     return f;
  75:../DaisySP/Source/Utility/dsp.h **** }
  76:../DaisySP/Source/Utility/dsp.h **** 
  77:../DaisySP/Source/Utility/dsp.h **** inline float fastroot(float f, int n)
  78:../DaisySP/Source/Utility/dsp.h **** {
  79:../DaisySP/Source/Utility/dsp.h ****     long *lp, l;
  80:../DaisySP/Source/Utility/dsp.h ****     lp = (long *)(&f);
  81:../DaisySP/Source/Utility/dsp.h ****     l  = *lp;
  82:../DaisySP/Source/Utility/dsp.h ****     l -= 0x3F800000;
  83:../DaisySP/Source/Utility/dsp.h ****     l >>= (n = 1);
  84:../DaisySP/Source/Utility/dsp.h ****     l += 0x3F800000;
  85:../DaisySP/Source/Utility/dsp.h ****     *lp = l;
  86:../DaisySP/Source/Utility/dsp.h ****     return f;
  87:../DaisySP/Source/Utility/dsp.h **** }
  88:../DaisySP/Source/Utility/dsp.h **** 
  89:../DaisySP/Source/Utility/dsp.h **** /** From http://openaudio.blogspot.com/2017/02/faster-log10-and-pow.html
  90:../DaisySP/Source/Utility/dsp.h **** No approximation, pow10f(x) gives a 90% speed increase over powf(10.f, x)
  91:../DaisySP/Source/Utility/dsp.h **** */
  92:../DaisySP/Source/Utility/dsp.h **** inline float pow10f(float f)
  93:../DaisySP/Source/Utility/dsp.h **** {
  94:../DaisySP/Source/Utility/dsp.h ****     return expf(2.302585092994046f * f);
  95:../DaisySP/Source/Utility/dsp.h **** }
  96:../DaisySP/Source/Utility/dsp.h **** 
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 14


  97:../DaisySP/Source/Utility/dsp.h **** /* Original code for fastlog2f by Dr. Paul Beckmann from the ARM community forum, adapted from the 
  98:../DaisySP/Source/Utility/dsp.h **** About 25% performance increase over std::log10f
  99:../DaisySP/Source/Utility/dsp.h **** */
 100:../DaisySP/Source/Utility/dsp.h **** inline float fastlog2f(float f)
 101:../DaisySP/Source/Utility/dsp.h **** {
 102:../DaisySP/Source/Utility/dsp.h ****     float frac;
 103:../DaisySP/Source/Utility/dsp.h ****     int   exp;
 104:../DaisySP/Source/Utility/dsp.h ****     frac = frexpf(fabsf(f), &exp);
 105:../DaisySP/Source/Utility/dsp.h ****     f    = 1.23149591368684f;
 106:../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 107:../DaisySP/Source/Utility/dsp.h ****     f += -4.11852516267426f;
 108:../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 109:../DaisySP/Source/Utility/dsp.h ****     f += 6.02197014179219f;
 110:../DaisySP/Source/Utility/dsp.h ****     f *= frac;
 111:../DaisySP/Source/Utility/dsp.h ****     f += -3.13396450166353f;
 112:../DaisySP/Source/Utility/dsp.h ****     f += exp;
 113:../DaisySP/Source/Utility/dsp.h ****     return (f);
 114:../DaisySP/Source/Utility/dsp.h **** }
 115:../DaisySP/Source/Utility/dsp.h **** 
 116:../DaisySP/Source/Utility/dsp.h **** inline float fastlog10f(float f)
 117:../DaisySP/Source/Utility/dsp.h **** {
 118:../DaisySP/Source/Utility/dsp.h ****     return fastlog2f(f) * 0.3010299956639812f;
 119:../DaisySP/Source/Utility/dsp.h **** }
 120:../DaisySP/Source/Utility/dsp.h **** 
 121:../DaisySP/Source/Utility/dsp.h **** /** Midi to frequency helper
 122:../DaisySP/Source/Utility/dsp.h **** */
 123:../DaisySP/Source/Utility/dsp.h **** inline float mtof(float m)
 124:../DaisySP/Source/Utility/dsp.h **** {
 125:../DaisySP/Source/Utility/dsp.h ****     return powf(2, (m - 69.0f) / 12.0f) * 440.0f;
 126:../DaisySP/Source/Utility/dsp.h **** }
 127:../DaisySP/Source/Utility/dsp.h **** 
 128:../DaisySP/Source/Utility/dsp.h **** 
 129:../DaisySP/Source/Utility/dsp.h **** /** one pole lpf
 130:../DaisySP/Source/Utility/dsp.h **** out is passed by reference, and must be retained between
 131:../DaisySP/Source/Utility/dsp.h **** calls to properly filter the signal
 132:../DaisySP/Source/Utility/dsp.h **** coeff can be calculated:
 133:../DaisySP/Source/Utility/dsp.h **** coeff = 1.0 / (time * sample_rate) ; where time is in seconds
 134:../DaisySP/Source/Utility/dsp.h **** */
 135:../DaisySP/Source/Utility/dsp.h **** inline void fonepole(float &out, float in, float coeff)
 136:../DaisySP/Source/Utility/dsp.h **** {
 137:../DaisySP/Source/Utility/dsp.h ****     out += coeff * (in - out);
 437              		.loc 2 137 9 is_stmt 0 view .LVU145
 438 0000 124B     		ldr	r3, .L39
 439              	.LBE15:
 440              	.LBE14:
 441              		.loc 1 143 17 view .LVU146
 442 0002 F6EE006A 		vmov.f32	s13, #5.0e-1
 443 0006 90ED0F7A 		vldr.32	s14, [r0, #60]
 144:taptempo.cpp  **** 
 145:taptempo.cpp  ****         //tempo_Out = tempo_;
 146:taptempo.cpp  ****         //if bigger than 5 samples change
 147:taptempo.cpp  ****         if( abs( tempo_Out - tempo_last) > 5) 
 444              		.loc 1 147 9 view .LVU147
 445 000a B1EE046A 		vmov.f32	s12, #5.0e+0
 446              	.LBB20:
 447              	.LBB16:
 448              		.loc 2 137 9 view .LVU148
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 15


 449 000e D3ED007A 		vldr.32	s15, [r3]
 450              	.LBE16:
 451              	.LBE20:
 143:taptempo.cpp  **** 
 452              		.loc 1 143 17 view .LVU149
 453 0012 416C     		ldr	r1, [r0, #68]
 454              	.LBB21:
 455              	.LBB17:
 456              		.loc 2 137 24 view .LVU150
 457 0014 37EE677A 		vsub.f32	s14, s14, s15
 458              	.LBE17:
 459              	.LBE21:
 143:taptempo.cpp  **** 
 460              		.loc 1 143 17 view .LVU151
 461 0018 DFED0D5A 		vldr.32	s11, .L39+4
 462 001c 1829     		cmp	r1, #24
 463              		.loc 1 147 16 view .LVU152
 464 001e 0D4A     		ldr	r2, .L39+8
 143:taptempo.cpp  **** 
 465              		.loc 1 143 17 view .LVU153
 466 0020 46FEA56A 		vseleq.f32	s13, s13, s11
 467              	.LVL24:
 468              	.LBB22:
 469              	.LBI14:
 135:../DaisySP/Source/Utility/dsp.h **** {
 470              		.loc 2 135 13 is_stmt 1 view .LVU154
 471              	.LBB18:
 472              		.loc 2 137 5 view .LVU155
 473              		.loc 2 137 9 is_stmt 0 view .LVU156
 474 0024 E6EE877A 		vfma.f32	s15, s13, s14
 475              	.LBE18:
 476              	.LBE22:
 477              		.loc 1 147 16 view .LVU157
 478 0028 92ED000A 		vldr.32	s0, [r2]
 479 002c 37EEC07A 		vsub.f32	s14, s15, s0
 480              	.LBB23:
 481              	.LBB19:
 482              		.loc 2 137 9 view .LVU158
 483 0030 C3ED007A 		vstr.32	s15, [r3]
 484              	.LVL25:
 485              		.loc 2 137 9 view .LVU159
 486              	.LBE19:
 487              	.LBE23:
 488              		.loc 1 147 9 is_stmt 1 view .LVU160
 489              	.LBB24:
 490              	.LBI24:
 491              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/b
   1:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // -*- C++ -*- C library enhancements header.
   2:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
   3:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // Copyright (C) 2016-2019 Free Software Foundation, Inc.
   4:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** //
   5:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // This file is part of the GNU ISO C++ Library.  This library is free
   6:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // software; you can redistribute it and/or modify it under the
   7:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // terms of the GNU General Public License as published by the
   8:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // Free Software Foundation; either version 3, or (at your option)
   9:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // any later version.
  10:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 16


  11:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // This library is distributed in the hope that it will be useful,
  12:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // GNU General Public License for more details.
  15:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  16:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // Under Section 7 of GPL version 3, you are granted additional
  17:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // permissions described in the GCC Runtime Library Exception, version
  18:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // 3.1, as published by the Free Software Foundation.
  19:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  20:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // You should have received a copy of the GNU General Public License and
  21:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // a copy of the GCC Runtime Library Exception along with this program;
  22:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see
  23:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // <http://www.gnu.org/licenses/>.
  24:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  25:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** /** @file include/bits/std_abs.h
  26:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****  *  This is an internal header file, included by other library headers.
  27:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****  *  Do not attempt to use it directly. @headername{cmath, cstdlib}
  28:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****  */
  29:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  30:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #ifndef _GLIBCXX_BITS_STD_ABS_H
  31:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #define _GLIBCXX_BITS_STD_ABS_H
  32:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  33:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #pragma GCC system_header
  34:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  35:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #include <bits/c++config.h>
  36:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  37:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #define _GLIBCXX_INCLUDE_NEXT_C_HEADERS
  38:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #include_next <stdlib.h>
  39:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #ifdef __CORRECT_ISO_CPP_MATH_H_PROTO
  40:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** # include_next <math.h>
  41:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #endif
  42:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #undef _GLIBCXX_INCLUDE_NEXT_C_HEADERS
  43:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  44:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #undef abs
  45:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  46:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** extern "C++"
  47:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** {
  48:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** namespace std _GLIBCXX_VISIBILITY(default)
  49:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** {
  50:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** _GLIBCXX_BEGIN_NAMESPACE_VERSION
  51:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  52:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   using ::abs;
  53:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  54:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #ifndef __CORRECT_ISO_CPP_STDLIB_H_PROTO
  55:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   inline long
  56:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   abs(long __i) { return __builtin_labs(__i); }
  57:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #endif
  58:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  59:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #ifdef _GLIBCXX_USE_LONG_LONG
  60:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   inline long long
  61:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   abs(long long __x) { return __builtin_llabs (__x); }
  62:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #endif
  63:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  64:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // _GLIBCXX_RESOLVE_LIB_DEFECTS
  65:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // 2192. Validity and return type of std::abs(0u) is unclear
  66:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // 2294. <cstdlib> should declare abs(double)
  67:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** // 2735. std::abs(short), std::abs(signed char) and others should return int
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 17


  68:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  69:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** #ifndef __CORRECT_ISO_CPP_MATH_H_PROTO
  70:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   inline _GLIBCXX_CONSTEXPR double
  71:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   abs(double __x)
  72:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   { return __builtin_fabs(__x); }
  73:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h **** 
  74:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   inline _GLIBCXX_CONSTEXPR float
  75:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   abs(float __x)
 492              		.loc 3 75 3 view .LVU161
 493              	.LBB25:
  76:/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/bits/std_abs.h ****   { return __builtin_fabsf(__x); }
 494              		.loc 3 76 5 view .LVU162
 495              		.loc 3 76 31 is_stmt 0 view .LVU163
 496 0034 B0EEC77A 		vabs.f32	s14, s14
 497              	.LBE25:
 498              	.LBE24:
 499              		.loc 1 147 9 view .LVU164
 500 0038 B4EEC67A 		vcmpe.f32	s14, s12
 501 003c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 502 0040 03DD     		ble	.L33
 148:taptempo.cpp  ****         {
 149:taptempo.cpp  ****             tempo_last = tempo_Out; //update tempo_last
 503              		.loc 1 149 13 is_stmt 1 view .LVU165
 150:taptempo.cpp  ****             return tempo_Out;
 504              		.loc 1 150 20 is_stmt 0 view .LVU166
 505 0042 B0EE670A 		vmov.f32	s0, s15
 149:taptempo.cpp  ****             return tempo_Out;
 506              		.loc 1 149 24 view .LVU167
 507 0046 C2ED007A 		vstr.32	s15, [r2]
 508              		.loc 1 150 13 is_stmt 1 view .LVU168
 509              	.L33:
 151:taptempo.cpp  ****         }
 152:taptempo.cpp  ****         else
 153:taptempo.cpp  ****         {
 154:taptempo.cpp  ****             return tempo_last;
 155:taptempo.cpp  ****         }
 156:taptempo.cpp  **** 
 157:taptempo.cpp  ****     }  
 510              		.loc 1 157 5 is_stmt 0 view .LVU169
 511 004a 7047     		bx	lr
 512              	.L40:
 513              		.align	2
 514              	.L39:
 515 004c 00000000 		.word	.LANCHOR2
 516 0050 5839343C 		.word	1010055512
 517 0054 00000000 		.word	.LANCHOR3
 518              		.cfi_endproc
 519              	.LFE3887:
 521              		.section	.text._ZN8Taptempo10getTapFreqEv,"ax",%progbits
 522              		.align	1
 523              		.p2align 2,,3
 524              		.global	_ZN8Taptempo10getTapFreqEv
 525              		.syntax unified
 526              		.thumb
 527              		.thumb_func
 528              		.fpu fpv5-d16
 530              	_ZN8Taptempo10getTapFreqEv:
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 18


 531              	.LVL26:
 532              	.LFB3888:
 158:taptempo.cpp  ****     
 159:taptempo.cpp  ****     //outputs tap frequency in Hz
 160:taptempo.cpp  ****     float Taptempo::getTapFreq()
 161:taptempo.cpp  ****     {
 533              		.loc 1 161 5 is_stmt 1 view -0
 534              		.cfi_startproc
 535              		@ args = 0, pretend = 0, frame = 0
 536              		@ frame_needed = 0, uses_anonymous_args = 0
 537              		@ link register save eliminated.
 162:taptempo.cpp  ****         return 1.0f / (tempo_ * 0.0000208333f); //in Hz
 538              		.loc 1 162 9 view .LVU171
 539              		.loc 1 162 31 is_stmt 0 view .LVU172
 540 0000 9FED057A 		vldr.32	s14, .L42
 541              		.loc 1 162 46 view .LVU173
 542 0004 B7EE000A 		vmov.f32	s0, #1.0e+0
 543              		.loc 1 162 31 view .LVU174
 544 0008 D0ED0F7A 		vldr.32	s15, [r0, #60]
 545 000c 67EE877A 		vmul.f32	s15, s15, s14
 163:taptempo.cpp  ****     }
 546              		.loc 1 163 5 view .LVU175
 547 0010 80EE270A 		vdiv.f32	s0, s0, s15
 548 0014 7047     		bx	lr
 549              	.L43:
 550 0016 00BF     		.align	2
 551              	.L42:
 552 0018 2CC3AE37 		.word	934200108
 553              		.cfi_endproc
 554              	.LFE3888:
 556              		.section	.text._ZN8Taptempo12getTapLengthEv,"ax",%progbits
 557              		.align	1
 558              		.p2align 2,,3
 559              		.global	_ZN8Taptempo12getTapLengthEv
 560              		.syntax unified
 561              		.thumb
 562              		.thumb_func
 563              		.fpu fpv5-d16
 565              	_ZN8Taptempo12getTapLengthEv:
 566              	.LVL27:
 567              	.LFB3889:
 164:taptempo.cpp  **** 
 165:taptempo.cpp  ****     //outputs delay length in Us;
 166:taptempo.cpp  ****     float Taptempo::getTapLength()
 167:taptempo.cpp  ****     {
 568              		.loc 1 167 5 is_stmt 1 view -0
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
 571              		@ frame_needed = 0, uses_anonymous_args = 0
 572              		@ link register save eliminated.
 168:taptempo.cpp  ****         return static_cast<float>(lastTapLength_);
 573              		.loc 1 168 9 view .LVU177
 574              		.loc 1 168 49 is_stmt 0 view .LVU178
 575 0000 90ED060A 		vldr.32	s0, [r0, #24]	@ int
 169:taptempo.cpp  ****     }
 576              		.loc 1 169 5 view .LVU179
 577 0004 B8EE400A 		vcvt.f32.u32	s0, s0
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 19


 578 0008 7047     		bx	lr
 579              		.cfi_endproc
 580              	.LFE3889:
 582 000a 00BF     		.section	.text._ZN8Taptempo11setTapRatioEf,"ax",%progbits
 583              		.align	1
 584              		.p2align 2,,3
 585              		.global	_ZN8Taptempo11setTapRatioEf
 586              		.syntax unified
 587              		.thumb
 588              		.thumb_func
 589              		.fpu fpv5-d16
 591              	_ZN8Taptempo11setTapRatioEf:
 592              	.LVL28:
 593              	.LFB3890:
 170:taptempo.cpp  **** 
 171:taptempo.cpp  ****     void Taptempo::setTapRatio(float tapRatio)
 172:taptempo.cpp  ****     {
 594              		.loc 1 172 5 is_stmt 1 view -0
 595              		.cfi_startproc
 596              		@ args = 0, pretend = 0, frame = 0
 597              		@ frame_needed = 0, uses_anonymous_args = 0
 598              		@ link register save eliminated.
 173:taptempo.cpp  ****         tapRatio_ = tapRatio;
 599              		.loc 1 173 9 view .LVU181
 600              		.loc 1 173 19 is_stmt 0 view .LVU182
 601 0000 80ED100A 		vstr.32	s0, [r0, #64]
 174:taptempo.cpp  ****     }
 602              		.loc 1 174 5 view .LVU183
 603 0004 7047     		bx	lr
 604              		.cfi_endproc
 605              	.LFE3890:
 607 0006 00BF     		.section	.text._ZN8Taptempo8setTempoEf,"ax",%progbits
 608              		.align	1
 609              		.p2align 2,,3
 610              		.global	_ZN8Taptempo8setTempoEf
 611              		.syntax unified
 612              		.thumb
 613              		.thumb_func
 614              		.fpu fpv5-d16
 616              	_ZN8Taptempo8setTempoEf:
 617              	.LVL29:
 618              	.LFB3891:
 175:taptempo.cpp  ****     
 176:taptempo.cpp  ****     void Taptempo::setTempo(float tempo)
 177:taptempo.cpp  ****     {
 619              		.loc 1 177 5 is_stmt 1 view -0
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 0, uses_anonymous_args = 0
 623              		@ link register save eliminated.
 178:taptempo.cpp  ****         tempo_ = tempo; 
 624              		.loc 1 178 9 view .LVU185
 625              		.loc 1 178 16 is_stmt 0 view .LVU186
 626 0000 80ED0F0A 		vstr.32	s0, [r0, #60]
 179:taptempo.cpp  ****     }
 627              		.loc 1 179 5 view .LVU187
 628 0004 7047     		bx	lr
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 20


 629              		.cfi_endproc
 630              	.LFE3891:
 632 0006 00BF     		.section	.text._ZN8Taptempo8getTempoEv,"ax",%progbits
 633              		.align	1
 634              		.p2align 2,,3
 635              		.global	_ZN8Taptempo8getTempoEv
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu fpv5-d16
 641              	_ZN8Taptempo8getTempoEv:
 642              	.LVL30:
 643              	.LFB3892:
 180:taptempo.cpp  **** 
 181:taptempo.cpp  ****     float Taptempo::getTempo()
 182:taptempo.cpp  ****     {
 644              		.loc 1 182 5 is_stmt 1 view -0
 645              		.cfi_startproc
 646              		@ args = 0, pretend = 0, frame = 0
 647              		@ frame_needed = 0, uses_anonymous_args = 0
 648              		@ link register save eliminated.
 183:taptempo.cpp  ****         return tempo_;
 649              		.loc 1 183 9 view .LVU189
 184:taptempo.cpp  ****     }
 650              		.loc 1 184 5 is_stmt 0 view .LVU190
 651 0000 90ED0F0A 		vldr.32	s0, [r0, #60]
 652 0004 7047     		bx	lr
 653              		.cfi_endproc
 654              	.LFE3892:
 656 0006 00BF     		.section	.bss._ZZN8Taptempo14getDelayLengthEvE10tempo_last,"aw",%nobits
 657              		.align	2
 658              		.set	.LANCHOR3,. + 0
 661              	_ZZN8Taptempo14getDelayLengthEvE10tempo_last:
 662 0000 00000000 		.space	4
 663              		.section	.bss._ZZN8Taptempo14getDelayLengthEvE9tempo_Out,"aw",%nobits
 664              		.align	2
 665              		.set	.LANCHOR2,. + 0
 668              	_ZZN8Taptempo14getDelayLengthEvE9tempo_Out:
 669 0000 00000000 		.space	4
 670              		.section	.bss._ZZN8Taptempo5clockEmE14ClockTempoBuff,"aw",%nobits
 671              		.align	2
 672              		.set	.LANCHOR1,. + 0
 675              	_ZZN8Taptempo5clockEmE14ClockTempoBuff:
 676 0000 00000000 		.space	96
 676      00000000 
 676      00000000 
 676      00000000 
 676      00000000 
 677              		.section	.bss._ZZN8Taptempo5clockEmE5index,"aw",%nobits
 678              		.align	2
 679              		.set	.LANCHOR0,. + 0
 682              	_ZZN8Taptempo5clockEmE5index:
 683 0000 00000000 		.space	4
 684              		.text
 685              	.Letext0:
 686              		.file 4 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/machine/_de
 687              		.file 5 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_stdint
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 21


 688              		.file 6 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdint.h"
 689              		.file 7 "../libdaisy/Drivers/CMSIS/Include/core_cm7.h"
 690              		.file 8 "../libdaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 691              		.file 9 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/lib/gcc/arm-none-eabi/9.2.1/inclu
 692              		.file 10 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 693              		.file 11 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 694              		.file 12 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 695              		.file 13 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 696              		.file 14 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 697              		.file 15 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 698              		.file 16 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 699              		.file 17 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 700              		.file 18 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 701              		.file 19 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 702              		.file 20 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 703              		.file 21 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 704              		.file 22 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 705              		.file 23 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 706              		.file 24 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 707              		.file 25 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 708              		.file 26 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 709              		.file 27 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 710              		.file 28 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 711              		.file 29 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 712              		.file 30 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 713              		.file 31 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/lock.h
 714              		.file 32 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_types
 715              		.file 33 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/reent.
 716              		.file 34 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/math.h"
 717              		.file 35 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdlib.h"
 718              		.file 36 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 719              		.file 37 "../libdaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 720              		.file 38 "../libdaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 721              		.file 39 "../DaisySP/Source/Control/adenv.h"
 722              		.file 40 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/lib/gcc/arm-none-eabi/9.2.1/incl
 723              		.file 41 "<built-in>"
 724              		.file 42 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/wchar.h"
 725              		.file 43 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/locale.h"
 726              		.file 44 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/ctype.h"
 727              		.file 45 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdio.h"
 728              		.file 46 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/errno.
 729              		.file 47 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 730              		.file 48 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/string.h"
 731              		.file 49 "../libdaisy/src/per/tim.h"
 732              		.file 50 "../libdaisy/src/sys/system.h"
 733              		.file 51 "../libdaisy/src/util/wav_format.h"
 734              		.file 52 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/unistd
 735              		.file 53 "../libdaisy/src/util/oled_fonts.h"
 736              		.file 54 "../libdaisy/Middlewares/Third_Party/FatFs/src/integer.h"
 737              		.file 55 "../libdaisy/Middlewares/Third_Party/FatFs/src/ff.h"
 738              		.file 56 "../libdaisy/Middlewares/Third_Party/FatFs/src/diskio.h"
 739              		.file 57 "../libdaisy/Middlewares/Third_Party/FatFs/src/ff_gen_drv.h"
 740              		.file 58 "../libdaisy/src/util/sd_diskio.h"
 741              		.file 59 "../libdaisy/src/sys/fatfs.h"
 742              		.file 60 "taptempo.h"
 743              		.file 61 "../libdaisy/src/dev/sr_595.h"
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s 			page 22


DEFINED SYMBOLS
                            *ABS*:0000000000000000 taptempo.cpp
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:17     .text._ZN8Taptempo4initEmmfi:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:26     .text._ZN8Taptempo4initEmmfi:0000000000000000 _ZN8Taptempo4initEmmfi
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:96     .text._ZN8Taptempo4initEmmfi:000000000000003c $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:102    .text._ZN8Taptempo3tapEv:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:110    .text._ZN8Taptempo3tapEv:0000000000000000 _ZN8Taptempo3tapEv
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:242    .text._ZN8Taptempo3tapEv:0000000000000094 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:247    .text._ZN8Taptempo5clockEm:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:255    .text._ZN8Taptempo5clockEm:0000000000000000 _ZN8Taptempo5clockEm
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:406    .text._ZN8Taptempo5clockEm:0000000000000070 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:415    .text._ZN8Taptempo14getDelayLengthEv:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:423    .text._ZN8Taptempo14getDelayLengthEv:0000000000000000 _ZN8Taptempo14getDelayLengthEv
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:515    .text._ZN8Taptempo14getDelayLengthEv:000000000000004c $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:522    .text._ZN8Taptempo10getTapFreqEv:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:530    .text._ZN8Taptempo10getTapFreqEv:0000000000000000 _ZN8Taptempo10getTapFreqEv
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:552    .text._ZN8Taptempo10getTapFreqEv:0000000000000018 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:557    .text._ZN8Taptempo12getTapLengthEv:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:565    .text._ZN8Taptempo12getTapLengthEv:0000000000000000 _ZN8Taptempo12getTapLengthEv
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:583    .text._ZN8Taptempo11setTapRatioEf:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:591    .text._ZN8Taptempo11setTapRatioEf:0000000000000000 _ZN8Taptempo11setTapRatioEf
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:608    .text._ZN8Taptempo8setTempoEf:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:616    .text._ZN8Taptempo8setTempoEf:0000000000000000 _ZN8Taptempo8setTempoEf
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:633    .text._ZN8Taptempo8getTempoEv:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:641    .text._ZN8Taptempo8getTempoEv:0000000000000000 _ZN8Taptempo8getTempoEv
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:657    .bss._ZZN8Taptempo14getDelayLengthEvE10tempo_last:0000000000000000 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:661    .bss._ZZN8Taptempo14getDelayLengthEvE10tempo_last:0000000000000000 _ZZN8Taptempo14getDelayLengthEvE10tempo_last
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:664    .bss._ZZN8Taptempo14getDelayLengthEvE9tempo_Out:0000000000000000 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:668    .bss._ZZN8Taptempo14getDelayLengthEvE9tempo_Out:0000000000000000 _ZZN8Taptempo14getDelayLengthEvE9tempo_Out
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:671    .bss._ZZN8Taptempo5clockEmE14ClockTempoBuff:0000000000000000 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:675    .bss._ZZN8Taptempo5clockEmE14ClockTempoBuff:0000000000000000 _ZZN8Taptempo5clockEmE14ClockTempoBuff
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:678    .bss._ZZN8Taptempo5clockEmE5index:0000000000000000 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc7L8Too.s:682    .bss._ZZN8Taptempo5clockEmE5index:0000000000000000 _ZZN8Taptempo5clockEmE5index

UNDEFINED SYMBOLS
_ZN5daisy6System5GetUsEv
