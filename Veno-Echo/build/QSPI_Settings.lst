ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"QSPI_Settings.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy9DaisySeedD2Ev,"axG",%progbits,_ZN5daisy9DaisySeedD5Ev,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy9DaisySeedD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy9DaisySeedD2Ev:
  27              	.LVL0:
  28              	.LFB2169:
  29              		.file 1 "../libDaisy//src/daisy_seed.h"
   1:../libDaisy//src/daisy_seed.h **** #pragma once
   2:../libDaisy//src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../libDaisy//src/daisy_seed.h **** #define DSY_SEED_H
   4:../libDaisy//src/daisy_seed.h **** 
   5:../libDaisy//src/daisy_seed.h **** #include "daisy.h"
   6:../libDaisy//src/daisy_seed.h **** 
   7:../libDaisy//src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../libDaisy//src/daisy_seed.h **** //#define SEED_REV2
   9:../libDaisy//src/daisy_seed.h **** 
  10:../libDaisy//src/daisy_seed.h **** namespace daisy
  11:../libDaisy//src/daisy_seed.h **** {
  12:../libDaisy//src/daisy_seed.h **** /**
  13:../libDaisy//src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../libDaisy//src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../libDaisy//src/daisy_seed.h **** 
  16:../libDaisy//src/daisy_seed.h ****    @ingroup boards
  17:../libDaisy//src/daisy_seed.h **** */
  18:../libDaisy//src/daisy_seed.h **** class DaisySeed
  19:../libDaisy//src/daisy_seed.h **** {
  20:../libDaisy//src/daisy_seed.h ****   public:
  21:../libDaisy//src/daisy_seed.h ****     DaisySeed() {}
  22:../libDaisy//src/daisy_seed.h ****     ~DaisySeed() {}
  30              		.loc 1 22 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB64:
  36              	.LBI64:
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 2


  37              		.file 2 "../libDaisy//src/sys/system.h"
   1:../libDaisy//src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../libDaisy//src/sys/system.h **** #define DSY_SYSTEM_H
   3:../libDaisy//src/sys/system.h **** 
   4:../libDaisy//src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../libDaisy//src/sys/system.h **** 
   6:../libDaisy//src/sys/system.h **** #include <cstdint>
   7:../libDaisy//src/sys/system.h **** #include "per/tim.h"
   8:../libDaisy//src/sys/system.h **** 
   9:../libDaisy//src/sys/system.h **** namespace daisy
  10:../libDaisy//src/sys/system.h **** {
  11:../libDaisy//src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../libDaisy//src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../libDaisy//src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../libDaisy//src/sys/system.h ****  **
  15:../libDaisy//src/sys/system.h ****  ** @author shensley
  16:../libDaisy//src/sys/system.h ****  ** @ingroup system
  17:../libDaisy//src/sys/system.h ****  */
  18:../libDaisy//src/sys/system.h **** class System
  19:../libDaisy//src/sys/system.h **** {
  20:../libDaisy//src/sys/system.h ****   public:
  21:../libDaisy//src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../libDaisy//src/sys/system.h ****     struct Config
  23:../libDaisy//src/sys/system.h ****     {
  24:../libDaisy//src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../libDaisy//src/sys/system.h ****         enum class SysClkFreq
  26:../libDaisy//src/sys/system.h ****         {
  27:../libDaisy//src/sys/system.h ****             FREQ_400MHZ,
  28:../libDaisy//src/sys/system.h ****             FREQ_480MHZ,
  29:../libDaisy//src/sys/system.h ****         };
  30:../libDaisy//src/sys/system.h **** 
  31:../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../libDaisy//src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  34:../libDaisy//src/sys/system.h ****          ** */
  35:../libDaisy//src/sys/system.h ****         void Defaults()
  36:../libDaisy//src/sys/system.h ****         {
  37:../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../libDaisy//src/sys/system.h ****             use_dcache  = true;
  39:../libDaisy//src/sys/system.h ****             use_icache  = true;
  40:../libDaisy//src/sys/system.h ****             skip_clocks = false;
  41:../libDaisy//src/sys/system.h ****         }
  42:../libDaisy//src/sys/system.h **** 
  43:../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../libDaisy//src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  46:../libDaisy//src/sys/system.h ****          ** */
  47:../libDaisy//src/sys/system.h ****         void Boost()
  48:../libDaisy//src/sys/system.h ****         {
  49:../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../libDaisy//src/sys/system.h ****             use_dcache  = true;
  51:../libDaisy//src/sys/system.h ****             use_icache  = true;
  52:../libDaisy//src/sys/system.h ****             skip_clocks = false;
  53:../libDaisy//src/sys/system.h ****         }
  54:../libDaisy//src/sys/system.h **** 
  55:../libDaisy//src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../libDaisy//src/sys/system.h ****         bool       use_dcache;
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 3


  57:../libDaisy//src/sys/system.h ****         bool       use_icache;
  58:../libDaisy//src/sys/system.h ****         bool       skip_clocks;
  59:../libDaisy//src/sys/system.h ****     };
  60:../libDaisy//src/sys/system.h **** 
  61:../libDaisy//src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy
  62:../libDaisy//src/sys/system.h ****      * 
  63:../libDaisy//src/sys/system.h ****      */
  64:../libDaisy//src/sys/system.h ****     enum MemoryRegion
  65:../libDaisy//src/sys/system.h ****     {
  66:../libDaisy//src/sys/system.h ****         INTERNAL_FLASH = 0,
  67:../libDaisy//src/sys/system.h ****         ITCMRAM,
  68:../libDaisy//src/sys/system.h ****         DTCMRAM,
  69:../libDaisy//src/sys/system.h ****         SRAM_D1,
  70:../libDaisy//src/sys/system.h ****         SRAM_D2,
  71:../libDaisy//src/sys/system.h ****         SRAM_D3,
  72:../libDaisy//src/sys/system.h ****         SDRAM,
  73:../libDaisy//src/sys/system.h ****         QSPI,
  74:../libDaisy//src/sys/system.h ****         INVALID_ADDRESS,
  75:../libDaisy//src/sys/system.h ****     };
  76:../libDaisy//src/sys/system.h **** 
  77:../libDaisy//src/sys/system.h ****     System() {}
  78:../libDaisy//src/sys/system.h ****     ~System() {}
  38              		.loc 2 78 5 view .LVU1
  39              		.loc 2 78 5 is_stmt 0 view .LVU2
  40              	.LBE64:
  41              	.LBB65:
  42              	.LBI65:
  43              		.file 3 "../libDaisy//src/hid/usb.h"
   1:../libDaisy//src/hid/usb.h **** #pragma once
   2:../libDaisy//src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../libDaisy//src/hid/usb.h **** #define DSY_HID_USB_H
   4:../libDaisy//src/hid/usb.h **** #include <stdint.h>
   5:../libDaisy//src/hid/usb.h **** #include <stdlib.h>
   6:../libDaisy//src/hid/usb.h **** 
   7:../libDaisy//src/hid/usb.h **** namespace daisy
   8:../libDaisy//src/hid/usb.h **** /** @addtogroup human_interface
   9:../libDaisy//src/hid/usb.h ****     @{
  10:../libDaisy//src/hid/usb.h **** */
  11:../libDaisy//src/hid/usb.h **** 
  12:../libDaisy//src/hid/usb.h **** {
  13:../libDaisy//src/hid/usb.h **** /** 
  14:../libDaisy//src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../libDaisy//src/hid/usb.h ****     @author Stephen Hensley
  16:../libDaisy//src/hid/usb.h ****     @date December 2019
  17:../libDaisy//src/hid/usb.h **** */
  18:../libDaisy//src/hid/usb.h **** class UsbHandle
  19:../libDaisy//src/hid/usb.h **** {
  20:../libDaisy//src/hid/usb.h ****   public:
  21:../libDaisy//src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../libDaisy//src/hid/usb.h ****     enum class Result
  23:../libDaisy//src/hid/usb.h ****     {
  24:../libDaisy//src/hid/usb.h ****         OK,
  25:../libDaisy//src/hid/usb.h ****         ERR,
  26:../libDaisy//src/hid/usb.h ****     };
  27:../libDaisy//src/hid/usb.h **** 
  28:../libDaisy//src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../libDaisy//src/hid/usb.h ****     enum UsbPeriph
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 4


  30:../libDaisy//src/hid/usb.h ****     {
  31:../libDaisy//src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../libDaisy//src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../libDaisy//src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../libDaisy//src/hid/usb.h ****     };
  35:../libDaisy//src/hid/usb.h **** 
  36:../libDaisy//src/hid/usb.h **** 
  37:../libDaisy//src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../libDaisy//src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../libDaisy//src/hid/usb.h **** 
  40:../libDaisy//src/hid/usb.h ****     UsbHandle() {}
  41:../libDaisy//src/hid/usb.h **** 
  42:../libDaisy//src/hid/usb.h ****     ~UsbHandle() {}
  44              		.loc 3 42 5 is_stmt 1 view .LVU3
  45              		.loc 3 42 5 is_stmt 0 view .LVU4
  46              	.LBE65:
  47              	.LBB66:
  48              	.LBI66:
  49              		.file 4 "../libDaisy//src/per/adc.h"
   1:../libDaisy//src/per/adc.h **** #pragma once
   2:../libDaisy//src/per/adc.h **** #ifndef DSY_ADC_H
   3:../libDaisy//src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../libDaisy//src/per/adc.h **** #include <stdint.h>
   5:../libDaisy//src/per/adc.h **** #include <stdlib.h>
   6:../libDaisy//src/per/adc.h **** #include "daisy_core.h"
   7:../libDaisy//src/per/adc.h **** #include "per/gpio.h"
   8:../libDaisy//src/per/adc.h **** 
   9:../libDaisy//src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../libDaisy//src/per/adc.h **** 
  11:../libDaisy//src/per/adc.h **** namespace daisy
  12:../libDaisy//src/per/adc.h **** {
  13:../libDaisy//src/per/adc.h **** /** @addtogroup per_analog
  14:../libDaisy//src/per/adc.h ****     @{
  15:../libDaisy//src/per/adc.h **** */
  16:../libDaisy//src/per/adc.h **** 
  17:../libDaisy//src/per/adc.h **** /* While there may not be many configuration options here,
  18:../libDaisy//src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../libDaisy//src/per/adc.h **** later without breaking existing functionality.
  20:../libDaisy//src/per/adc.h **** */
  21:../libDaisy//src/per/adc.h **** 
  22:../libDaisy//src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../libDaisy//src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../libDaisy//src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../libDaisy//src/per/adc.h ****  *           one channel.
  26:../libDaisy//src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../libDaisy//src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../libDaisy//src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../libDaisy//src/per/adc.h ****  *           inputs connected.
  30:../libDaisy//src/per/adc.h **** */
  31:../libDaisy//src/per/adc.h **** struct AdcChannelConfig
  32:../libDaisy//src/per/adc.h **** {
  33:../libDaisy//src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../libDaisy//src/per/adc.h ****     enum MuxPin
  35:../libDaisy//src/per/adc.h ****     {
  36:../libDaisy//src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../libDaisy//src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../libDaisy//src/per/adc.h ****         MUX_SEL_2,    /**< & */
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 5


  39:../libDaisy//src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../libDaisy//src/per/adc.h ****     };
  41:../libDaisy//src/per/adc.h **** 
  42:../libDaisy//src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  43:../libDaisy//src/per/adc.h ****     \param pin Pin to init.
  44:../libDaisy//src/per/adc.h ****      */
  45:../libDaisy//src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  46:../libDaisy//src/per/adc.h **** 
  47:../libDaisy//src/per/adc.h ****     /** 
  48:../libDaisy//src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  49:../libDaisy//src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  50:../libDaisy//src/per/adc.h ****     You only need to supply the mux pins that are required,
  51:../libDaisy//src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  52:../libDaisy//src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  53:../libDaisy//src/per/adc.h ****     \param mux_channels must be 1-8
  54:../libDaisy//src/per/adc.h ****     \param mux_0 First mux pin
  55:../libDaisy//src/per/adc.h ****     \param mux_1 Second mux pin
  56:../libDaisy//src/per/adc.h ****     \param mux_2 Third mux pin
  57:../libDaisy//src/per/adc.h ****     \param adc_pin &
  58:../libDaisy//src/per/adc.h ****     */
  59:../libDaisy//src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  60:../libDaisy//src/per/adc.h ****                  size_t       mux_channels,
  61:../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_0,
  62:../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  63:../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  64:../libDaisy//src/per/adc.h **** 
  65:../libDaisy//src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  66:../libDaisy//src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
  67:../libDaisy//src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  68:../libDaisy//src/per/adc.h **** };
  69:../libDaisy//src/per/adc.h **** 
  70:../libDaisy//src/per/adc.h **** /**
  71:../libDaisy//src/per/adc.h ****    @brief Handler for analog to digital conversion
  72:../libDaisy//src/per/adc.h **** */
  73:../libDaisy//src/per/adc.h **** class AdcHandle
  74:../libDaisy//src/per/adc.h **** {
  75:../libDaisy//src/per/adc.h ****   public:
  76:../libDaisy//src/per/adc.h ****     /** Supported oversampling amounts */
  77:../libDaisy//src/per/adc.h ****     enum OverSampling
  78:../libDaisy//src/per/adc.h ****     {
  79:../libDaisy//src/per/adc.h ****         OVS_NONE, /**< & */
  80:../libDaisy//src/per/adc.h ****         OVS_4,    /**< & */
  81:../libDaisy//src/per/adc.h ****         OVS_8,    /**< & */
  82:../libDaisy//src/per/adc.h ****         OVS_16,   /**< & */
  83:../libDaisy//src/per/adc.h ****         OVS_32,   /**< & */
  84:../libDaisy//src/per/adc.h ****         OVS_64,   /**< & */
  85:../libDaisy//src/per/adc.h ****         OVS_128,  /**< & */
  86:../libDaisy//src/per/adc.h ****         OVS_256,  /**< & */
  87:../libDaisy//src/per/adc.h ****         OVS_512,  /**< & */
  88:../libDaisy//src/per/adc.h ****         OVS_1024, /**< & */
  89:../libDaisy//src/per/adc.h ****         OVS_LAST, /**< & */
  90:../libDaisy//src/per/adc.h ****     };
  91:../libDaisy//src/per/adc.h **** 
  92:../libDaisy//src/per/adc.h ****     AdcHandle() {}
  93:../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
  50              		.loc 4 93 5 is_stmt 1 view .LVU5
  51              		.loc 4 93 5 is_stmt 0 view .LVU6
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 6


  52              	.LBE66:
  53              	.LBB67:
  54              	.LBI67:
  55              		.file 5 "../libDaisy//src/hid/audio.h"
   1:../libDaisy//src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../libDaisy//src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../libDaisy//src/hid/audio.h **** 
   4:../libDaisy//src/hid/audio.h **** #include "per/sai.h"
   5:../libDaisy//src/hid/audio.h **** 
   6:../libDaisy//src/hid/audio.h **** namespace daisy
   7:../libDaisy//src/hid/audio.h **** {
   8:../libDaisy//src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../libDaisy//src/hid/audio.h ****  *  @ingroup audio 
  10:../libDaisy//src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../libDaisy//src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../libDaisy//src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../libDaisy//src/hid/audio.h ****  *            is already taken  care of.
  14:../libDaisy//src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../libDaisy//src/hid/audio.h ****  *           you will have to take the following steps:
  16:../libDaisy//src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../libDaisy//src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../libDaisy//src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../libDaisy//src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../libDaisy//src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../libDaisy//src/hid/audio.h ****  */
  22:../libDaisy//src/hid/audio.h **** class AudioHandle
  23:../libDaisy//src/hid/audio.h **** {
  24:../libDaisy//src/hid/audio.h ****   public:
  25:../libDaisy//src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../libDaisy//src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../libDaisy//src/hid/audio.h ****     struct Config
  28:../libDaisy//src/hid/audio.h ****     {
  29:../libDaisy//src/hid/audio.h ****         size_t                        blocksize;
  30:../libDaisy//src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  31:../libDaisy//src/hid/audio.h ****         float                         postgain;
  32:../libDaisy//src/hid/audio.h ****     };
  33:../libDaisy//src/hid/audio.h **** 
  34:../libDaisy//src/hid/audio.h ****     enum class Result
  35:../libDaisy//src/hid/audio.h ****     {
  36:../libDaisy//src/hid/audio.h ****         OK,
  37:../libDaisy//src/hid/audio.h ****         ERR,
  38:../libDaisy//src/hid/audio.h ****     };
  39:../libDaisy//src/hid/audio.h **** 
  40:../libDaisy//src/hid/audio.h ****     /** Non-Interleaving input buffer
  41:../libDaisy//src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  42:../libDaisy//src/hid/audio.h ****      * const so that the user can't modify the input
  43:../libDaisy//src/hid/audio.h ****      */
  44:../libDaisy//src/hid/audio.h ****     typedef const float* const* InputBuffer;
  45:../libDaisy//src/hid/audio.h **** 
  46:../libDaisy//src/hid/audio.h ****     /** Non-Interleaving output buffer
  47:../libDaisy//src/hid/audio.h ****      * Arranged by float[chn][sample] 
  48:../libDaisy//src/hid/audio.h ****      */
  49:../libDaisy//src/hid/audio.h ****     typedef float** OutputBuffer;
  50:../libDaisy//src/hid/audio.h **** 
  51:../libDaisy//src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  52:../libDaisy//src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  53:../libDaisy//src/hid/audio.h ****      */
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 7


  54:../libDaisy//src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  55:../libDaisy//src/hid/audio.h ****                                   OutputBuffer out,
  56:../libDaisy//src/hid/audio.h ****                                   size_t       size);
  57:../libDaisy//src/hid/audio.h **** 
  58:../libDaisy//src/hid/audio.h ****     /** Interleaving Input buffer
  59:../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  60:../libDaisy//src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  61:../libDaisy//src/hid/audio.h ****     */
  62:../libDaisy//src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  63:../libDaisy//src/hid/audio.h **** 
  64:../libDaisy//src/hid/audio.h ****     /** Interleaving Output buffer 
  65:../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  66:../libDaisy//src/hid/audio.h ****     */
  67:../libDaisy//src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  68:../libDaisy//src/hid/audio.h **** 
  69:../libDaisy//src/hid/audio.h ****     /** Interleaving Audio Callback 
  70:../libDaisy//src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  71:../libDaisy//src/hid/audio.h ****      */
  72:../libDaisy//src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  73:../libDaisy//src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  74:../libDaisy//src/hid/audio.h ****                                               size_t                   size);
  75:../libDaisy//src/hid/audio.h **** 
  76:../libDaisy//src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  77:../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
  56              		.loc 5 77 5 is_stmt 1 view .LVU7
  57              		.loc 5 77 5 is_stmt 0 view .LVU8
  58              	.LBE67:
  59              		.loc 1 22 19 view .LVU9
  60 0000 7047     		bx	lr
  61              		.cfi_endproc
  62              	.LFE2169:
  64              		.weak	_ZN5daisy9DaisySeedD1Ev
  65              		.thumb_set _ZN5daisy9DaisySeedD1Ev,_ZN5daisy9DaisySeedD2Ev
  66 0002 00BF     		.section	.text._Z12SaveSettingsRK8Settings,"ax",%progbits
  67              		.align	1
  68              		.p2align 2,,3
  69              		.global	_Z12SaveSettingsRK8Settings
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  73              		.fpu fpv5-d16
  75              	_Z12SaveSettingsRK8Settings:
  76              	.LVL1:
  77              	.LFB4339:
  78              		.file 6 "QSPI_Settings.cpp"
   1:QSPI_Settings.cpp **** // Copyright 2021 Adam Fulford
   2:QSPI_Settings.cpp **** // 
   3:QSPI_Settings.cpp **** // Permission is hereby granted, free of charge, to any person obtaining a copy
   4:QSPI_Settings.cpp **** // of this software and associated documentation files (the "Software"), to deal
   5:QSPI_Settings.cpp **** // in the Software without restriction, including without limitation the rights
   6:QSPI_Settings.cpp **** // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   7:QSPI_Settings.cpp **** // copies of the Software, and to permit persons to whom the Software is
   8:QSPI_Settings.cpp **** // furnished to do so, subject to the following conditions:
   9:QSPI_Settings.cpp **** // 
  10:QSPI_Settings.cpp **** // The above copyright notice and this permission notice shall be included in
  11:QSPI_Settings.cpp **** // all copies or substantial portions of the Software.
  12:QSPI_Settings.cpp **** // 
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 8


  13:QSPI_Settings.cpp **** // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  14:QSPI_Settings.cpp **** // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  15:QSPI_Settings.cpp **** // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  16:QSPI_Settings.cpp **** // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  17:QSPI_Settings.cpp **** // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  18:QSPI_Settings.cpp **** // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  19:QSPI_Settings.cpp **** // THE SOFTWARE.
  20:QSPI_Settings.cpp **** // 
  21:QSPI_Settings.cpp **** // See http://creativecommons.org/licenses/MIT/ for more information.
  22:QSPI_Settings.cpp **** 
  23:QSPI_Settings.cpp **** #include "QSPI_Settings.h"
  24:QSPI_Settings.cpp **** #include <string.h>
  25:QSPI_Settings.cpp **** #include <math.h>
  26:QSPI_Settings.cpp **** 
  27:QSPI_Settings.cpp **** #define BUFF_SIZE (sizeof(Settings)/sizeof(float))
  28:QSPI_Settings.cpp **** 
  29:QSPI_Settings.cpp **** float DSY_QSPI_BSS membuff[BUFF_SIZE];   //block of memory in flash
  30:QSPI_Settings.cpp **** 
  31:QSPI_Settings.cpp **** 
  32:QSPI_Settings.cpp **** //constexpr uint32_t base = 0x90000000;
  33:QSPI_Settings.cpp **** uint32_t base = (uint32_t) &membuff[0]; //this gives same address as above
  34:QSPI_Settings.cpp **** 
  35:QSPI_Settings.cpp **** //save data to flash memory
  36:QSPI_Settings.cpp **** QSPIHandle::Result SaveSettings(const Settings &currentSetting)
  37:QSPI_Settings.cpp **** {
  79              		.loc 6 37 1 is_stmt 1 view -0
  80              		.cfi_startproc
  81              		@ args = 0, pretend = 0, frame = 48
  82              		@ frame_needed = 0, uses_anonymous_args = 0
  38:QSPI_Settings.cpp ****     float inbuff[BUFF_SIZE];
  83              		.loc 6 38 5 view .LVU11
  39:QSPI_Settings.cpp **** 
  40:QSPI_Settings.cpp ****     inbuff[0] = currentSetting.RevLength;
  84              		.loc 6 40 5 view .LVU12
  37:QSPI_Settings.cpp ****     float inbuff[BUFF_SIZE];
  85              		.loc 6 37 1 is_stmt 0 view .LVU13
  86 0000 0346     		mov	r3, r0
  41:QSPI_Settings.cpp ****     inbuff[1] = currentSetting.tapRatio;
  42:QSPI_Settings.cpp ****     inbuff[2] = currentSetting.ModDepth;
  43:QSPI_Settings.cpp ****     inbuff[3] = currentSetting.ModFreq;
  44:QSPI_Settings.cpp ****     inbuff[4] = currentSetting.HP_Cutoff;
  45:QSPI_Settings.cpp ****     inbuff[5] = currentSetting.LP_Cutoff;
  46:QSPI_Settings.cpp ****     inbuff[6] = currentSetting.Resonance;
  47:QSPI_Settings.cpp ****     inbuff[7] = currentSetting.FilterPrePost;
  48:QSPI_Settings.cpp ****     inbuff[8] = currentSetting.tapLength;
  49:QSPI_Settings.cpp ****     inbuff[9] = currentSetting.L_Rev;
  50:QSPI_Settings.cpp ****     inbuff[10] = currentSetting.R_Rev;
  51:QSPI_Settings.cpp ****     
  52:QSPI_Settings.cpp ****     QSPIHandle::Result retvalue{};    //initialise return value
  53:QSPI_Settings.cpp ****     size_t size = sizeof(inbuff);
  54:QSPI_Settings.cpp ****     size_t address = (size_t)membuff;
  87              		.loc 6 54 12 view .LVU14
  88 0002 1349     		ldr	r1, .L5
  37:QSPI_Settings.cpp ****     float inbuff[BUFF_SIZE];
  89              		.loc 6 37 1 view .LVU15
  90 0004 70B5     		push	{r4, r5, r6, lr}
  91              		.cfi_def_cfa_offset 16
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 9


  92              		.cfi_offset 4, -16
  93              		.cfi_offset 5, -12
  94              		.cfi_offset 6, -8
  95              		.cfi_offset 14, -4
  40:QSPI_Settings.cpp ****     inbuff[1] = currentSetting.tapRatio;
  96              		.loc 6 40 15 view .LVU16
  97 0006 0668     		ldr	r6, [r0]	@ float
  37:QSPI_Settings.cpp ****     float inbuff[BUFF_SIZE];
  98              		.loc 6 37 1 view .LVU17
  99 0008 8CB0     		sub	sp, sp, #48
 100              		.cfi_def_cfa_offset 64
  41:QSPI_Settings.cpp ****     inbuff[1] = currentSetting.tapRatio;
 101              		.loc 6 41 15 view .LVU18
 102 000a 5D68     		ldr	r5, [r3, #4]	@ float
  55:QSPI_Settings.cpp **** 
  56:QSPI_Settings.cpp ****     hw.qspi.Erase(address, address + size);
 103              		.loc 6 56 18 view .LVU19
 104 000c 01F12C02 		add	r2, r1, #44
  40:QSPI_Settings.cpp ****     inbuff[1] = currentSetting.tapRatio;
 105              		.loc 6 40 15 view .LVU20
 106 0010 0196     		str	r6, [sp, #4]	@ float
  41:QSPI_Settings.cpp ****     inbuff[2] = currentSetting.ModDepth;
 107              		.loc 6 41 5 is_stmt 1 view .LVU21
  41:QSPI_Settings.cpp ****     inbuff[2] = currentSetting.ModDepth;
 108              		.loc 6 41 15 is_stmt 0 view .LVU22
 109 0012 0295     		str	r5, [sp, #8]	@ float
  42:QSPI_Settings.cpp ****     inbuff[3] = currentSetting.ModFreq;
 110              		.loc 6 42 5 is_stmt 1 view .LVU23
  42:QSPI_Settings.cpp ****     inbuff[3] = currentSetting.ModFreq;
 111              		.loc 6 42 15 is_stmt 0 view .LVU24
 112 0014 9E68     		ldr	r6, [r3, #8]	@ float
  43:QSPI_Settings.cpp ****     inbuff[4] = currentSetting.HP_Cutoff;
 113              		.loc 6 43 15 view .LVU25
 114 0016 DD68     		ldr	r5, [r3, #12]	@ float
  42:QSPI_Settings.cpp ****     inbuff[3] = currentSetting.ModFreq;
 115              		.loc 6 42 15 view .LVU26
 116 0018 0396     		str	r6, [sp, #12]	@ float
  43:QSPI_Settings.cpp ****     inbuff[4] = currentSetting.HP_Cutoff;
 117              		.loc 6 43 5 is_stmt 1 view .LVU27
  43:QSPI_Settings.cpp ****     inbuff[4] = currentSetting.HP_Cutoff;
 118              		.loc 6 43 15 is_stmt 0 view .LVU28
 119 001a 0495     		str	r5, [sp, #16]	@ float
  44:QSPI_Settings.cpp ****     inbuff[5] = currentSetting.LP_Cutoff;
 120              		.loc 6 44 5 is_stmt 1 view .LVU29
  44:QSPI_Settings.cpp ****     inbuff[5] = currentSetting.LP_Cutoff;
 121              		.loc 6 44 15 is_stmt 0 view .LVU30
 122 001c 1E69     		ldr	r6, [r3, #16]	@ float
  45:QSPI_Settings.cpp ****     inbuff[6] = currentSetting.Resonance;
 123              		.loc 6 45 15 view .LVU31
 124 001e 5D69     		ldr	r5, [r3, #20]	@ float
  44:QSPI_Settings.cpp ****     inbuff[5] = currentSetting.LP_Cutoff;
 125              		.loc 6 44 15 view .LVU32
 126 0020 0596     		str	r6, [sp, #20]	@ float
  45:QSPI_Settings.cpp ****     inbuff[6] = currentSetting.Resonance;
 127              		.loc 6 45 5 is_stmt 1 view .LVU33
  45:QSPI_Settings.cpp ****     inbuff[6] = currentSetting.Resonance;
 128              		.loc 6 45 15 is_stmt 0 view .LVU34
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 10


 129 0022 0695     		str	r5, [sp, #24]	@ float
  46:QSPI_Settings.cpp ****     inbuff[7] = currentSetting.FilterPrePost;
 130              		.loc 6 46 5 is_stmt 1 view .LVU35
  46:QSPI_Settings.cpp ****     inbuff[7] = currentSetting.FilterPrePost;
 131              		.loc 6 46 15 is_stmt 0 view .LVU36
 132 0024 9E69     		ldr	r6, [r3, #24]	@ float
  47:QSPI_Settings.cpp ****     inbuff[8] = currentSetting.tapLength;
 133              		.loc 6 47 15 view .LVU37
 134 0026 DD69     		ldr	r5, [r3, #28]	@ float
 135              		.loc 6 56 18 view .LVU38
 136 0028 0A4C     		ldr	r4, .L5+4
  46:QSPI_Settings.cpp ****     inbuff[7] = currentSetting.FilterPrePost;
 137              		.loc 6 46 15 view .LVU39
 138 002a 0796     		str	r6, [sp, #28]	@ float
  47:QSPI_Settings.cpp ****     inbuff[8] = currentSetting.tapLength;
 139              		.loc 6 47 5 is_stmt 1 view .LVU40
  47:QSPI_Settings.cpp ****     inbuff[8] = currentSetting.tapLength;
 140              		.loc 6 47 15 is_stmt 0 view .LVU41
 141 002c 0895     		str	r5, [sp, #32]	@ float
  48:QSPI_Settings.cpp ****     inbuff[9] = currentSetting.L_Rev;
 142              		.loc 6 48 5 is_stmt 1 view .LVU42
 143              		.loc 6 56 18 is_stmt 0 view .LVU43
 144 002e 2046     		mov	r0, r4
 145              	.LVL2:
  48:QSPI_Settings.cpp ****     inbuff[9] = currentSetting.L_Rev;
 146              		.loc 6 48 15 view .LVU44
 147 0030 1E6A     		ldr	r6, [r3, #32]	@ float
  49:QSPI_Settings.cpp ****     inbuff[10] = currentSetting.R_Rev;
 148              		.loc 6 49 15 view .LVU45
 149 0032 5D6A     		ldr	r5, [r3, #36]	@ float
  50:QSPI_Settings.cpp ****     
 150              		.loc 6 50 16 view .LVU46
 151 0034 9B6A     		ldr	r3, [r3, #40]	@ float
 152              	.LVL3:
  48:QSPI_Settings.cpp ****     inbuff[9] = currentSetting.L_Rev;
 153              		.loc 6 48 15 view .LVU47
 154 0036 0996     		str	r6, [sp, #36]	@ float
  49:QSPI_Settings.cpp ****     inbuff[10] = currentSetting.R_Rev;
 155              		.loc 6 49 5 is_stmt 1 view .LVU48
  50:QSPI_Settings.cpp ****     
 156              		.loc 6 50 16 is_stmt 0 view .LVU49
 157 0038 0B93     		str	r3, [sp, #44]	@ float
  49:QSPI_Settings.cpp ****     inbuff[10] = currentSetting.R_Rev;
 158              		.loc 6 49 15 view .LVU50
 159 003a 0A95     		str	r5, [sp, #40]	@ float
  50:QSPI_Settings.cpp ****     
 160              		.loc 6 50 5 is_stmt 1 view .LVU51
  52:QSPI_Settings.cpp ****     size_t size = sizeof(inbuff);
 161              		.loc 6 52 5 view .LVU52
 162              	.LVL4:
  53:QSPI_Settings.cpp ****     size_t address = (size_t)membuff;
 163              		.loc 6 53 5 view .LVU53
  54:QSPI_Settings.cpp **** 
 164              		.loc 6 54 5 view .LVU54
 165              		.loc 6 56 5 view .LVU55
 166              		.loc 6 56 18 is_stmt 0 view .LVU56
 167 003c FFF7FEFF 		bl	_ZN5daisy10QSPIHandle5EraseEmm
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 11


 168              	.LVL5:
  57:QSPI_Settings.cpp ****     retvalue = hw.qspi.Write(address, size, (uint8_t*)inbuff);
 169              		.loc 6 57 5 is_stmt 1 view .LVU57
 170              		.loc 6 57 29 is_stmt 0 view .LVU58
 171 0040 0349     		ldr	r1, .L5
 172 0042 01AB     		add	r3, sp, #4
 173 0044 2C22     		movs	r2, #44
 174 0046 2046     		mov	r0, r4
 175 0048 FFF7FEFF 		bl	_ZN5daisy10QSPIHandle5WriteEmmPh
 176              	.LVL6:
  58:QSPI_Settings.cpp **** 
  59:QSPI_Settings.cpp ****     return retvalue;
 177              		.loc 6 59 5 is_stmt 1 view .LVU59
  60:QSPI_Settings.cpp **** }
 178              		.loc 6 60 1 is_stmt 0 view .LVU60
 179 004c 0CB0     		add	sp, sp, #48
 180              		.cfi_def_cfa_offset 16
 181              		@ sp needed
 182 004e 70BD     		pop	{r4, r5, r6, pc}
 183              	.L6:
 184              		.align	2
 185              	.L5:
 186 0050 00000000 		.word	.LANCHOR0
 187 0054 00000000 		.word	.LANCHOR1
 188              		.cfi_endproc
 189              	.LFE4339:
 191              		.section	.text._Z12LoadSettingsv,"ax",%progbits
 192              		.align	1
 193              		.p2align 2,,3
 194              		.global	_Z12LoadSettingsv
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 198              		.fpu fpv5-d16
 200              	_Z12LoadSettingsv:
 201              	.LVL7:
 202              	.LFB4340:
  61:QSPI_Settings.cpp **** 
  62:QSPI_Settings.cpp **** //retreive data from flash memory
  63:QSPI_Settings.cpp **** Settings LoadSettings()
  64:QSPI_Settings.cpp **** {
 203              		.loc 6 64 1 is_stmt 1 view -0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 48
 206              		@ frame_needed = 0, uses_anonymous_args = 0
 207              		@ link register save eliminated.
  65:QSPI_Settings.cpp ****     float readbuff[BUFF_SIZE];
 208              		.loc 6 65 5 view .LVU62
  66:QSPI_Settings.cpp ****     Settings SettingsInFlash{};
 209              		.loc 6 66 5 view .LVU63
  67:QSPI_Settings.cpp **** 
  68:QSPI_Settings.cpp ****     //fill readbuff with membuff
  69:QSPI_Settings.cpp ****     for(size_t i=0; i < BUFF_SIZE; i++ )
 210              		.loc 6 69 5 view .LVU64
 211              	.LBB68:
 212              		.loc 6 69 23 view .LVU65
 213              	.LBE68:
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 12


  64:QSPI_Settings.cpp ****     float readbuff[BUFF_SIZE];
 214              		.loc 6 64 1 is_stmt 0 view .LVU66
 215 0000 10B4     		push	{r4}
 216              		.cfi_def_cfa_offset 4
 217              		.cfi_offset 4, -4
 218 0002 124B     		ldr	r3, .L11
 219 0004 8DB0     		sub	sp, sp, #52
 220              		.cfi_def_cfa_offset 56
 221 0006 03F12C04 		add	r4, r3, #44
 222 000a 01AA     		add	r2, sp, #4
 223              	.LVL8:
 224              	.L8:
 225              	.LBB69:
  70:QSPI_Settings.cpp ****     {
  71:QSPI_Settings.cpp ****         readbuff[i] = membuff[i];
 226              		.loc 6 71 9 is_stmt 1 discriminator 2 view .LVU67
 227              		.loc 6 71 32 is_stmt 0 discriminator 2 view .LVU68
 228 000c 53F8041B 		ldr	r1, [r3], #4	@ float
  69:QSPI_Settings.cpp ****     {
 229              		.loc 6 69 23 discriminator 2 view .LVU69
 230 0010 A342     		cmp	r3, r4
 231              		.loc 6 71 21 discriminator 2 view .LVU70
 232 0012 42F8041B 		str	r1, [r2], #4	@ float
  69:QSPI_Settings.cpp ****     {
 233              		.loc 6 69 5 is_stmt 1 discriminator 2 view .LVU71
  69:QSPI_Settings.cpp ****     {
 234              		.loc 6 69 23 discriminator 2 view .LVU72
 235 0016 F9D1     		bne	.L8
 236              	.LBE69:
  72:QSPI_Settings.cpp ****     }
  73:QSPI_Settings.cpp **** 
  74:QSPI_Settings.cpp **** SettingsInFlash.RevLength = readbuff[0];
 237              		.loc 6 74 1 view .LVU73
 238              		.loc 6 74 27 is_stmt 0 view .LVU74
 239 0018 0199     		ldr	r1, [sp, #4]	@ float
  75:QSPI_Settings.cpp **** SettingsInFlash.tapRatio = readbuff[1];
 240              		.loc 6 75 26 view .LVU75
 241 001a 029A     		ldr	r2, [sp, #8]	@ float
  76:QSPI_Settings.cpp **** SettingsInFlash.ModDepth = readbuff[2];
 242              		.loc 6 76 26 view .LVU76
 243 001c 039B     		ldr	r3, [sp, #12]	@ float
  77:QSPI_Settings.cpp **** SettingsInFlash.ModFreq = readbuff[3];
 244              		.loc 6 77 25 view .LVU77
 245 001e 049C     		ldr	r4, [sp, #16]	@ float
  74:QSPI_Settings.cpp **** SettingsInFlash.tapRatio = readbuff[1];
 246              		.loc 6 74 27 view .LVU78
 247 0020 0160     		str	r1, [r0]	@ float
  75:QSPI_Settings.cpp **** SettingsInFlash.ModDepth = readbuff[2];
 248              		.loc 6 75 1 is_stmt 1 view .LVU79
  75:QSPI_Settings.cpp **** SettingsInFlash.ModDepth = readbuff[2];
 249              		.loc 6 75 26 is_stmt 0 view .LVU80
 250 0022 4260     		str	r2, [r0, #4]	@ float
  76:QSPI_Settings.cpp **** SettingsInFlash.ModFreq = readbuff[3];
 251              		.loc 6 76 1 is_stmt 1 view .LVU81
  78:QSPI_Settings.cpp **** SettingsInFlash.HP_Cutoff = readbuff[4];
 252              		.loc 6 78 27 is_stmt 0 view .LVU82
 253 0024 0599     		ldr	r1, [sp, #20]	@ float
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 13


  79:QSPI_Settings.cpp **** SettingsInFlash.LP_Cutoff = readbuff[5];
 254              		.loc 6 79 27 view .LVU83
 255 0026 069A     		ldr	r2, [sp, #24]	@ float
  76:QSPI_Settings.cpp **** SettingsInFlash.ModFreq = readbuff[3];
 256              		.loc 6 76 26 view .LVU84
 257 0028 8360     		str	r3, [r0, #8]	@ float
  77:QSPI_Settings.cpp **** SettingsInFlash.HP_Cutoff = readbuff[4];
 258              		.loc 6 77 1 is_stmt 1 view .LVU85
  80:QSPI_Settings.cpp **** SettingsInFlash.Resonance = readbuff[6];
 259              		.loc 6 80 27 is_stmt 0 view .LVU86
 260 002a 079B     		ldr	r3, [sp, #28]	@ float
  77:QSPI_Settings.cpp **** SettingsInFlash.HP_Cutoff = readbuff[4];
 261              		.loc 6 77 25 view .LVU87
 262 002c C460     		str	r4, [r0, #12]	@ float
  78:QSPI_Settings.cpp **** SettingsInFlash.LP_Cutoff = readbuff[5];
 263              		.loc 6 78 1 is_stmt 1 view .LVU88
  78:QSPI_Settings.cpp **** SettingsInFlash.LP_Cutoff = readbuff[5];
 264              		.loc 6 78 27 is_stmt 0 view .LVU89
 265 002e 0161     		str	r1, [r0, #16]	@ float
  79:QSPI_Settings.cpp **** SettingsInFlash.Resonance = readbuff[6];
 266              		.loc 6 79 1 is_stmt 1 view .LVU90
  81:QSPI_Settings.cpp **** SettingsInFlash.FilterPrePost = readbuff[7];
 267              		.loc 6 81 31 is_stmt 0 view .LVU91
 268 0030 089C     		ldr	r4, [sp, #32]	@ float
  82:QSPI_Settings.cpp **** SettingsInFlash.tapLength = readbuff[8];
 269              		.loc 6 82 27 view .LVU92
 270 0032 0999     		ldr	r1, [sp, #36]	@ float
  79:QSPI_Settings.cpp **** SettingsInFlash.Resonance = readbuff[6];
 271              		.loc 6 79 27 view .LVU93
 272 0034 4261     		str	r2, [r0, #20]	@ float
  80:QSPI_Settings.cpp **** SettingsInFlash.FilterPrePost = readbuff[7];
 273              		.loc 6 80 1 is_stmt 1 view .LVU94
  80:QSPI_Settings.cpp **** SettingsInFlash.FilterPrePost = readbuff[7];
 274              		.loc 6 80 27 is_stmt 0 view .LVU95
 275 0036 8361     		str	r3, [r0, #24]	@ float
  81:QSPI_Settings.cpp **** SettingsInFlash.FilterPrePost = readbuff[7];
 276              		.loc 6 81 1 is_stmt 1 view .LVU96
  83:QSPI_Settings.cpp **** SettingsInFlash.L_Rev = readbuff[9];
 277              		.loc 6 83 23 is_stmt 0 view .LVU97
 278 0038 0A9A     		ldr	r2, [sp, #40]	@ float
  84:QSPI_Settings.cpp **** SettingsInFlash.R_Rev = readbuff[10];
 279              		.loc 6 84 23 view .LVU98
 280 003a 0B9B     		ldr	r3, [sp, #44]	@ float
  81:QSPI_Settings.cpp **** SettingsInFlash.tapLength = readbuff[8];
 281              		.loc 6 81 31 view .LVU99
 282 003c C461     		str	r4, [r0, #28]	@ float
  82:QSPI_Settings.cpp **** SettingsInFlash.L_Rev = readbuff[9];
 283              		.loc 6 82 1 is_stmt 1 view .LVU100
  82:QSPI_Settings.cpp **** SettingsInFlash.L_Rev = readbuff[9];
 284              		.loc 6 82 27 is_stmt 0 view .LVU101
 285 003e 0162     		str	r1, [r0, #32]	@ float
  83:QSPI_Settings.cpp **** SettingsInFlash.R_Rev = readbuff[10];
 286              		.loc 6 83 1 is_stmt 1 view .LVU102
  83:QSPI_Settings.cpp **** SettingsInFlash.R_Rev = readbuff[10];
 287              		.loc 6 83 23 is_stmt 0 view .LVU103
 288 0040 4262     		str	r2, [r0, #36]	@ float
 289              		.loc 6 84 1 is_stmt 1 view .LVU104
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 14


 290              		.loc 6 84 23 is_stmt 0 view .LVU105
 291 0042 8362     		str	r3, [r0, #40]	@ float
  85:QSPI_Settings.cpp **** 
  86:QSPI_Settings.cpp **** return SettingsInFlash;
 292              		.loc 6 86 1 is_stmt 1 view .LVU106
  87:QSPI_Settings.cpp **** 
  88:QSPI_Settings.cpp **** }...
 293              		.loc 6 88 1 is_stmt 0 view .LVU107
 294 0044 0DB0     		add	sp, sp, #52
 295              		.cfi_def_cfa_offset 4
 296              		@ sp needed
 297 0046 5DF8044B 		ldr	r4, [sp], #4
 298              		.cfi_restore 4
 299              		.cfi_def_cfa_offset 0
 300 004a 7047     		bx	lr
 301              	.L12:
 302              		.align	2
 303              	.L11:
 304 004c 00000000 		.word	.LANCHOR0
 305              		.cfi_endproc
 306              	.LFE4340:
 308              		.section	.text.startup._GLOBAL__sub_I_membuff,"ax",%progbits
 309              		.align	1
 310              		.p2align 2,,3
 311              		.syntax unified
 312              		.thumb
 313              		.thumb_func
 314              		.fpu fpv5-d16
 316              	_GLOBAL__sub_I_membuff:
 317              	.LFB4886:
 318              		.loc 6 88 1 is_stmt 1 view -0
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322              		@ link register save eliminated.
 323              	.LVL9:
 324              	.LBB70:
 325              	.LBI70:
 326              		.loc 6 88 1 view .LVU109
 327              	.LBB71:
 328              	.LBB72:
 329              	.LBI72:
  21:../libDaisy//src/daisy_seed.h ****     ~DaisySeed() {}
 330              		.loc 1 21 5 view .LVU110
 331              	.LBB73:
 332              	.LBB74:
 333              	.LBI74:
 334              		.file 7 "../libDaisy//src/per/qspi.h"
   1:../libDaisy//src/per/qspi.h **** #ifndef DSY_QSPI
   2:../libDaisy//src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../libDaisy//src/per/qspi.h **** 
   4:../libDaisy//src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../libDaisy//src/per/qspi.h **** 
   6:../libDaisy//src/per/qspi.h **** #include <cstdint>
   7:../libDaisy//src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../libDaisy//src/per/qspi.h **** 
   9:../libDaisy//src/per/qspi.h **** #define DSY_QSPI_TEXT       \
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 15


  10:../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  11:../libDaisy//src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../libDaisy//src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  14:../libDaisy//src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../libDaisy//src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  17:../libDaisy//src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../libDaisy//src/per/qspi.h **** 
  19:../libDaisy//src/per/qspi.h **** namespace daisy
  20:../libDaisy//src/per/qspi.h **** {
  21:../libDaisy//src/per/qspi.h **** /** @addtogroup serial
  22:../libDaisy//src/per/qspi.h **** @{
  23:../libDaisy//src/per/qspi.h **** */
  24:../libDaisy//src/per/qspi.h **** 
  25:../libDaisy//src/per/qspi.h **** /** 
  26:../libDaisy//src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../libDaisy//src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../libDaisy//src/per/qspi.h ****     * IS25LP080D
  29:../libDaisy//src/per/qspi.h **** */
  30:../libDaisy//src/per/qspi.h **** class QSPIHandle
  31:../libDaisy//src/per/qspi.h **** {
  32:../libDaisy//src/per/qspi.h ****   public:
  33:../libDaisy//src/per/qspi.h ****     enum Result
  34:../libDaisy//src/per/qspi.h ****     {
  35:../libDaisy//src/per/qspi.h ****         OK = 0,
  36:../libDaisy//src/per/qspi.h ****         ERR
  37:../libDaisy//src/per/qspi.h ****     };
  38:../libDaisy//src/per/qspi.h **** 
  39:../libDaisy//src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../libDaisy//src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../libDaisy//src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../libDaisy//src/per/qspi.h ****          * 
  43:../libDaisy//src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../libDaisy//src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../libDaisy//src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../libDaisy//src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../libDaisy//src/per/qspi.h ****          */
  48:../libDaisy//src/per/qspi.h ****     enum Status
  49:../libDaisy//src/per/qspi.h ****     {
  50:../libDaisy//src/per/qspi.h ****         GOOD = 0,
  51:../libDaisy//src/per/qspi.h ****         E_HAL_ERROR,
  52:../libDaisy//src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../libDaisy//src/per/qspi.h ****         E_INVALID_MODE,
  54:../libDaisy//src/per/qspi.h ****     };
  55:../libDaisy//src/per/qspi.h **** 
  56:../libDaisy//src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../libDaisy//src/per/qspi.h ****     struct Config
  58:../libDaisy//src/per/qspi.h ****     {
  59:../libDaisy//src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../libDaisy//src/per/qspi.h ****         enum Device
  61:../libDaisy//src/per/qspi.h ****         {
  62:../libDaisy//src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../libDaisy//src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../libDaisy//src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../libDaisy//src/per/qspi.h ****         };
  66:../libDaisy//src/per/qspi.h **** 
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 16


  67:../libDaisy//src/per/qspi.h ****         /** 
  68:../libDaisy//src/per/qspi.h ****         Modes of operation.
  69:../libDaisy//src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../libDaisy//src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../libDaisy//src/per/qspi.h ****         possible in this mode. \n 
  72:../libDaisy//src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../libDaisy//src/per/qspi.h ****         */
  74:../libDaisy//src/per/qspi.h ****         enum Mode
  75:../libDaisy//src/per/qspi.h ****         {
  76:../libDaisy//src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../libDaisy//src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../libDaisy//src/per/qspi.h ****             MODE_LAST,
  79:../libDaisy//src/per/qspi.h ****         };
  80:../libDaisy//src/per/qspi.h **** 
  81:../libDaisy//src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../libDaisy//src/per/qspi.h ****         struct
  83:../libDaisy//src/per/qspi.h ****         {
  84:../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../libDaisy//src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../libDaisy//src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../libDaisy//src/per/qspi.h ****         } pin_config;
  91:../libDaisy//src/per/qspi.h **** 
  92:../libDaisy//src/per/qspi.h ****         Device device;
  93:../libDaisy//src/per/qspi.h ****         Mode   mode;
  94:../libDaisy//src/per/qspi.h ****     };
  95:../libDaisy//src/per/qspi.h **** 
  96:../libDaisy//src/per/qspi.h ****     /** 
  97:../libDaisy//src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../libDaisy//src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../libDaisy//src/per/qspi.h ****         */
 101:../libDaisy//src/per/qspi.h ****     Result Init(const Config& config);
 102:../libDaisy//src/per/qspi.h **** 
 103:../libDaisy//src/per/qspi.h ****     /** Returns the current config. */
 104:../libDaisy//src/per/qspi.h ****     const Config& GetConfig() const;
 105:../libDaisy//src/per/qspi.h **** 
 106:../libDaisy//src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../libDaisy//src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../libDaisy//src/per/qspi.h ****     /** 
 109:../libDaisy//src/per/qspi.h ****         Deinitializes the peripheral
 110:../libDaisy//src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../libDaisy//src/per/qspi.h ****         */
 113:../libDaisy//src/per/qspi.h ****     Result DeInit();
 114:../libDaisy//src/per/qspi.h **** 
 115:../libDaisy//src/per/qspi.h ****     /** 
 116:../libDaisy//src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../libDaisy//src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../libDaisy//src/per/qspi.h ****         \param address Address to write to
 119:../libDaisy//src/per/qspi.h ****         \param size Buffer size
 120:../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 121:../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../libDaisy//src/per/qspi.h ****         */
 123:../libDaisy//src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 17


 124:../libDaisy//src/per/qspi.h **** 
 125:../libDaisy//src/per/qspi.h ****     /** 
 126:../libDaisy//src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../libDaisy//src/per/qspi.h ****         \param address Address to write to
 128:../libDaisy//src/per/qspi.h ****         \param size Buffer size
 129:../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 130:../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../libDaisy//src/per/qspi.h ****         */
 132:../libDaisy//src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../libDaisy//src/per/qspi.h **** 
 134:../libDaisy//src/per/qspi.h ****     /** 
 135:../libDaisy//src/per/qspi.h ****         Erases the area specified on the chip.
 136:../libDaisy//src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../libDaisy//src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../libDaisy//src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../libDaisy//src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../libDaisy//src/per/qspi.h ****         */
 142:../libDaisy//src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../libDaisy//src/per/qspi.h **** 
 144:../libDaisy//src/per/qspi.h ****     /**  
 145:../libDaisy//src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../libDaisy//src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../libDaisy//src/per/qspi.h ****         \param address Address of sector to erase
 148:../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../libDaisy//src/per/qspi.h ****         */
 150:../libDaisy//src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../libDaisy//src/per/qspi.h **** 
 152:../libDaisy//src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../libDaisy//src/per/qspi.h ****      *  \returns Status
 154:../libDaisy//src/per/qspi.h ****      */
 155:../libDaisy//src/per/qspi.h ****     Status GetStatus();
 156:../libDaisy//src/per/qspi.h **** 
 157:../libDaisy//src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../libDaisy//src/per/qspi.h ****      *  The memory at this address is read-only
 159:../libDaisy//src/per/qspi.h ****      *  to write to it use the Write function.
 160:../libDaisy//src/per/qspi.h ****      * 
 161:../libDaisy//src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../libDaisy//src/per/qspi.h ****      *                many bytes into the memory
 163:../libDaisy//src/per/qspi.h ****     */
 164:../libDaisy//src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../libDaisy//src/per/qspi.h **** 
 166:../libDaisy//src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 335              		.loc 7 166 5 view .LVU111
 336              	.LBB75:
 337              	.LBB76:
 338              		.loc 7 166 34 is_stmt 0 view .LVU112
 339 0000 0448     		ldr	r0, .L14
 340 0002 0023     		movs	r3, #0
 341              	.LBE76:
 342              	.LBE75:
 343              	.LBE74:
 344              	.LBE73:
 345              	.LBE72:
 346              		.file 8 "Veno-Echo.h"
   1:Veno-Echo.h   **** // Copyright 2021 Adam Fulford
   2:Veno-Echo.h   **** // 
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 18


   3:Veno-Echo.h   **** // Permission is hereby granted, free of charge, to any person obtaining a copy
   4:Veno-Echo.h   **** // of this software and associated documentation files (the "Software"), to deal
   5:Veno-Echo.h   **** // in the Software without restriction, including without limitation the rights
   6:Veno-Echo.h   **** // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   7:Veno-Echo.h   **** // copies of the Software, and to permit persons to whom the Software is
   8:Veno-Echo.h   **** // furnished to do so, subject to the following conditions:
   9:Veno-Echo.h   **** // 
  10:Veno-Echo.h   **** // The above copyright notice and this permission notice shall be included in
  11:Veno-Echo.h   **** // all copies or substantial portions of the Software.
  12:Veno-Echo.h   **** // 
  13:Veno-Echo.h   **** // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  14:Veno-Echo.h   **** // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  15:Veno-Echo.h   **** // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  16:Veno-Echo.h   **** // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  17:Veno-Echo.h   **** // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  18:Veno-Echo.h   **** // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  19:Veno-Echo.h   **** // THE SOFTWARE.
  20:Veno-Echo.h   **** // 
  21:Veno-Echo.h   **** // See http://creativecommons.org/licenses/MIT/ for more information.
  22:Veno-Echo.h   **** 
  23:Veno-Echo.h   **** #ifndef VENO_ECHO_H
  24:Veno-Echo.h   **** #define VENO_ECHO_H
  25:Veno-Echo.h   **** 
  26:Veno-Echo.h   **** //defines for HW pins:
  27:Veno-Echo.h   **** 
  28:Veno-Echo.h   **** 
  29:Veno-Echo.h   **** 
  30:Veno-Echo.h   **** #include "daisy_seed.h"
  31:Veno-Echo.h   **** using namespace daisy;
  32:Veno-Echo.h   **** 
  33:Veno-Echo.h   **** static DaisySeed hw;
 347              		.loc 8 33 18 view .LVU113
 348 0004 044A     		ldr	r2, .L14+4
 349 0006 0549     		ldr	r1, .L14+8
 350              	.LBB90:
 351              	.LBB89:
 352              	.LBB79:
 353              	.LBB78:
 354              	.LBB77:
 355              		.loc 7 166 34 view .LVU114
 356 0008 0360     		str	r3, [r0]
 357              	.LVL10:
 358              		.loc 7 166 34 view .LVU115
 359              	.LBE77:
 360              	.LBE78:
 361              	.LBE79:
 362              	.LBB80:
 363              	.LBI80:
  76:../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 364              		.loc 5 76 5 is_stmt 1 view .LVU116
 365              	.LBB81:
 366              	.LBB82:
  76:../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 367              		.loc 5 76 35 is_stmt 0 view .LVU117
 368 000a 4361     		str	r3, [r0, #20]
 369              	.LVL11:
  76:../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 19


 370              		.loc 5 76 35 view .LVU118
 371              	.LBE82:
 372              	.LBE81:
 373              	.LBE80:
 374              	.LBB83:
 375              	.LBI83:
  92:../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 376              		.loc 4 92 5 is_stmt 1 view .LVU119
  92:../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 377              		.loc 4 92 5 is_stmt 0 view .LVU120
 378              	.LBE83:
 379              	.LBB84:
 380              	.LBI84:
 381              		.file 9 "../libDaisy//src/per/dac.h"
   1:../libDaisy//src/per/dac.h **** #pragma once
   2:../libDaisy//src/per/dac.h **** #ifndef DSY_DAC_H
   3:../libDaisy//src/per/dac.h **** #define DSY_DAC_H
   4:../libDaisy//src/per/dac.h **** 
   5:../libDaisy//src/per/dac.h **** #include "daisy_core.h"
   6:../libDaisy//src/per/dac.h **** 
   7:../libDaisy//src/per/dac.h **** namespace daisy
   8:../libDaisy//src/per/dac.h **** {
   9:../libDaisy//src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../libDaisy//src/per/dac.h ****  *  @ingroup per_analog
  11:../libDaisy//src/per/dac.h ****  ** 
  12:../libDaisy//src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../libDaisy//src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../libDaisy//src/per/dac.h ****  **
  15:../libDaisy//src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../libDaisy//src/per/dac.h ****  **
  17:../libDaisy//src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../libDaisy//src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../libDaisy//src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../libDaisy//src/per/dac.h ****  ***/
  21:../libDaisy//src/per/dac.h **** class DacHandle
  22:../libDaisy//src/per/dac.h **** {
  23:../libDaisy//src/per/dac.h ****   public:
  24:../libDaisy//src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../libDaisy//src/per/dac.h ****     enum class Result
  26:../libDaisy//src/per/dac.h ****     {
  27:../libDaisy//src/per/dac.h ****         OK,
  28:../libDaisy//src/per/dac.h ****         ERR,
  29:../libDaisy//src/per/dac.h ****     };
  30:../libDaisy//src/per/dac.h **** 
  31:../libDaisy//src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../libDaisy//src/per/dac.h ****     enum class Channel
  33:../libDaisy//src/per/dac.h ****     {
  34:../libDaisy//src/per/dac.h ****         ONE,
  35:../libDaisy//src/per/dac.h ****         TWO,
  36:../libDaisy//src/per/dac.h ****         BOTH,
  37:../libDaisy//src/per/dac.h ****     };
  38:../libDaisy//src/per/dac.h **** 
  39:../libDaisy//src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../libDaisy//src/per/dac.h ****      **
  41:../libDaisy//src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../libDaisy//src/per/dac.h ****      **
  43:../libDaisy//src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 20


  44:../libDaisy//src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../libDaisy//src/per/dac.h ****      ***/
  46:../libDaisy//src/per/dac.h ****     enum class Mode
  47:../libDaisy//src/per/dac.h ****     {
  48:../libDaisy//src/per/dac.h ****         POLLING,
  49:../libDaisy//src/per/dac.h ****         DMA,
  50:../libDaisy//src/per/dac.h ****     };
  51:../libDaisy//src/per/dac.h **** 
  52:../libDaisy//src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../libDaisy//src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../libDaisy//src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../libDaisy//src/per/dac.h ****      ***/
  56:../libDaisy//src/per/dac.h ****     enum class BitDepth
  57:../libDaisy//src/per/dac.h ****     {
  58:../libDaisy//src/per/dac.h ****         BITS_8,
  59:../libDaisy//src/per/dac.h ****         BITS_12
  60:../libDaisy//src/per/dac.h ****     };
  61:../libDaisy//src/per/dac.h **** 
  62:../libDaisy//src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../libDaisy//src/per/dac.h ****     enum class BufferState
  64:../libDaisy//src/per/dac.h ****     {
  65:../libDaisy//src/per/dac.h ****         ENABLED,
  66:../libDaisy//src/per/dac.h ****         DISABLED,
  67:../libDaisy//src/per/dac.h ****     };
  68:../libDaisy//src/per/dac.h **** 
  69:../libDaisy//src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../libDaisy//src/per/dac.h ****     struct Config
  71:../libDaisy//src/per/dac.h ****     {
  72:../libDaisy//src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../libDaisy//src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../libDaisy//src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../libDaisy//src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../libDaisy//src/per/dac.h ****         uint32_t target_samplerate;
  77:../libDaisy//src/per/dac.h **** 
  78:../libDaisy//src/per/dac.h ****         Channel     chn;
  79:../libDaisy//src/per/dac.h ****         Mode        mode;
  80:../libDaisy//src/per/dac.h ****         BitDepth    bitdepth;
  81:../libDaisy//src/per/dac.h ****         BufferState buff_state;
  82:../libDaisy//src/per/dac.h ****     };
  83:../libDaisy//src/per/dac.h **** 
  84:../libDaisy//src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 382              		.loc 9 84 5 is_stmt 1 view .LVU121
 383              	.LBB85:
 384              	.LBB86:
 385              		.loc 9 84 33 is_stmt 0 view .LVU122
 386 000c 0362     		str	r3, [r0, #32]
 387              	.LVL12:
 388              		.loc 9 84 33 view .LVU123
 389              	.LBE86:
 390              	.LBE85:
 391              	.LBE84:
 392              	.LBB87:
 393              	.LBI87:
  40:../libDaisy//src/hid/usb.h **** 
 394              		.loc 3 40 5 is_stmt 1 view .LVU124
  40:../libDaisy//src/hid/usb.h **** 
 395              		.loc 3 40 5 is_stmt 0 view .LVU125
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 21


 396              	.LBE87:
 397              	.LBB88:
 398              	.LBI88:
  77:../libDaisy//src/sys/system.h ****     ~System() {}
 399              		.loc 2 77 5 is_stmt 1 view .LVU126
  77:../libDaisy//src/sys/system.h ****     ~System() {}
 400              		.loc 2 77 5 is_stmt 0 view .LVU127
 401              	.LBE88:
 402              	.LBE89:
 403              	.LBE90:
 404              		.loc 8 33 18 view .LVU128
 405 000e FFF7FEBF 		b	__aeabi_atexit
 406              	.LVL13:
 407              	.L15:
 408 0012 00BF     		.align	2
 409              	.L14:
 410 0014 00000000 		.word	.LANCHOR1
 411 0018 00000000 		.word	__dso_handle
 412 001c 00000000 		.word	_ZN5daisy9DaisySeedD1Ev
 413              	.LBE71:
 414              	.LBE70:
 415              		.cfi_endproc
 416              	.LFE4886:
 418              		.section	.init_array,"aw",%init_array
 419              		.align	2
 420 0000 00000000 		.word	_GLOBAL__sub_I_membuff(target1)
 421              		.global	base
 422              		.global	membuff
 423              		.section	.bss._ZL2hw,"aw",%nobits
 424              		.align	2
 425              		.set	.LANCHOR1,. + 0
 428              	_ZL2hw:
 429 0000 00000000 		.space	60
 429      00000000 
 429      00000000 
 429      00000000 
 429      00000000 
 430              		.section	.data.base,"aw"
 431              		.align	2
 434              	base:
 435 0000 00000000 		.word	membuff
 436              		.section	.qspiflash_bss,"aw"
 437              		.align	2
 438              		.set	.LANCHOR0,. + 0
 441              	membuff:
 442 0000 00000000 		.space	44
 442      00000000 
 442      00000000 
 442      00000000 
 442      00000000 
 443              		.text
 444              	.Letext0:
 445              		.file 10 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/machine/_d
 446              		.file 11 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_stdin
 447              		.file 12 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdint.h"
 448              		.file 13 "../libDaisy//Drivers/CMSIS/Include/core_cm7.h"
 449              		.file 14 "../libDaisy//Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 22


 450              		.file 15 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/lib/gcc/arm-none-eabi/9.2.1/incl
 451              		.file 16 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 452              		.file 17 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 453              		.file 18 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 454              		.file 19 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 455              		.file 20 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 456              		.file 21 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 457              		.file 22 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 458              		.file 23 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 459              		.file 24 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 460              		.file 25 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 461              		.file 26 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 462              		.file 27 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 463              		.file 28 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 464              		.file 29 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 465              		.file 30 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 466              		.file 31 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 467              		.file 32 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 468              		.file 33 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 469              		.file 34 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 470              		.file 35 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 471              		.file 36 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 472              		.file 37 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 473              		.file 38 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/lock.h
 474              		.file 39 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_types
 475              		.file 40 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/reent.
 476              		.file 41 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/math.h"
 477              		.file 42 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdlib.h"
 478              		.file 43 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 479              		.file 44 "../libDaisy//Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 480              		.file 45 "../libDaisy//Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 481              		.file 46 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/c++/9.2.1/
 482              		.file 47 "../libDaisy//src/daisy_core.h"
 483              		.file 48 "../libDaisy//src/per/tim.h"
 484              		.file 49 "../libDaisy//src/per/sai.h"
 485              		.file 50 "../libDaisy//src/util/wav_format.h"
 486              		.file 51 "../libDaisy//src/per/gpio.h"
 487              		.file 52 "../libDaisy//src/dev/sdram.h"
 488              		.file 53 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/lib/gcc/arm-none-eabi/9.2.1/incl
 489              		.file 54 "<built-in>"
 490              		.file 55 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/stdio.h"
 491              		.file 56 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/unistd
 492              		.file 57 "../libDaisy//src/util/oled_fonts.h"
 493              		.file 58 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/string.h"
 494              		.file 59 "../DaisySP//Source/Control/adenv.h"
 495              		.file 60 "../DaisySP//Source/Utility/dsp.h"
 496              		.file 61 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/wchar.h"
 497              		.file 62 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/locale.h"
 498              		.file 63 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/ctype.h"
 499              		.file 64 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/errno.
 500              		.file 65 "QSPI_Settings.h"
 501              		.file 66 "../libDaisy//src/dev/sr_595.h"
ARM GAS  /var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s 			page 23


DEFINED SYMBOLS
                            *ABS*:0000000000000000 QSPI_Settings.cpp
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:17     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:26     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 _ZN5daisy9DaisySeedD2Ev
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:26     .text._ZN5daisy9DaisySeedD2Ev:0000000000000000 _ZN5daisy9DaisySeedD1Ev
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:67     .text._Z12SaveSettingsRK8Settings:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:75     .text._Z12SaveSettingsRK8Settings:0000000000000000 _Z12SaveSettingsRK8Settings
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:186    .text._Z12SaveSettingsRK8Settings:0000000000000050 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:192    .text._Z12LoadSettingsv:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:200    .text._Z12LoadSettingsv:0000000000000000 _Z12LoadSettingsv
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:304    .text._Z12LoadSettingsv:000000000000004c $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:309    .text.startup._GLOBAL__sub_I_membuff:0000000000000000 $t
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:316    .text.startup._GLOBAL__sub_I_membuff:0000000000000000 _GLOBAL__sub_I_membuff
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:410    .text.startup._GLOBAL__sub_I_membuff:0000000000000014 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:419    .init_array:0000000000000000 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:434    .data.base:0000000000000000 base
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:441    .qspiflash_bss:0000000000000000 membuff
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:424    .bss._ZL2hw:0000000000000000 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:428    .bss._ZL2hw:0000000000000000 _ZL2hw
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:431    .data.base:0000000000000000 $d
/var/folders/0d/2ntwfkp1791d52chq7d_xwdm0000gn/T//cc9MC2dE.s:437    .qspiflash_bss:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy9DaisySeedD5Ev

UNDEFINED SYMBOLS
_ZN5daisy10QSPIHandle5EraseEmm
_ZN5daisy10QSPIHandle5WriteEmmPh
__aeabi_atexit
__dso_handle
